/*  Rapid+JS v7.1.1 Released on 2022-07-20T16:42Z | (c) Yottaa, Inc. | https://www.yottaa.com/rapidjs-license */ var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.checkStringArgs=function(h,q,m){if(null==h)throw new TypeError("The 'this' value for String.prototype."+m+' must not be null or undefined');if(q instanceof RegExp)throw new TypeError('First argument to String.prototype.'+m+' must not be a regular expression');return h+''};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1; $jscomp.defineProperty=$jscomp.ASSUME_ES5||'function'==typeof Object.defineProperties?Object.defineProperty:function(h,q,m){h!=Array.prototype&&h!=Object.prototype&&(h[q]=m.value)};$jscomp.getGlobal=function(h){return'undefined'!=typeof window&&window===h?h:'undefined'!=typeof global&&null!=global?global:h};$jscomp.global=$jscomp.getGlobal(this); $jscomp.polyfill=function(h,q,m,C){if(q){m=$jscomp.global;h=h.split('.');for(C=0;C<h.length-1;C++){var u=h[C];u in m||(m[u]={});m=m[u]}h=h[h.length-1];C=m[h];q=q(C);q!=C&&null!=q&&$jscomp.defineProperty(m,h,{configurable:!0,writable:!0,value:q})}}; $jscomp.polyfill('String.prototype.startsWith',function(h){return h?h:function(h,m){var q=$jscomp.checkStringArgs(this,h,'startsWith');h+='';var u=q.length,B=h.length;m=Math.max(0,Math.min(m|0,q.length));for(var t=0;t<B&&m<u;)if(q[m++]!=h[t++])return!1;return t>=B}},'es6','es3');$jscomp.arrayIteratorImpl=function(h){var q=0;return function(){return q<h.length?{done:!1,value:h[q++]}:{done:!0}}};$jscomp.arrayIterator=function(h){return{next:$jscomp.arrayIteratorImpl(h)}}; $jscomp.makeIterator=function(h){var q='undefined'!=typeof Symbol&&Symbol.iterator&&h[Symbol.iterator];return q?q.call(h):$jscomp.arrayIterator(h)};$jscomp.FORCE_POLYFILL_PROMISE=!1; $jscomp.polyfill('Promise',function(h){function q(){this.batch_=null}function m(t){return t instanceof u?t:new u(function(h,m){h(t)})}if(h&&!$jscomp.FORCE_POLYFILL_PROMISE)return h;q.prototype.asyncExecute=function(t){if(null==this.batch_){this.batch_=[];var h=this;this.asyncExecuteFunction(function(){h.executeBatch_()})}this.batch_.push(t)};var C=$jscomp.global.setTimeout;q.prototype.asyncExecuteFunction=function(t){C(t,0)};q.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var t= this.batch_;this.batch_=[];for(var h=0;h<t.length;++h){var m=t[h];t[h]=null;try{m()}catch(ea){this.asyncThrow_(ea)}}}this.batch_=null};q.prototype.asyncThrow_=function(h){this.asyncExecuteFunction(function(){throw h;})};var u=function(h){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var t=this.createResolveAndReject_();try{h(t.resolve,t.reject)}catch(L){t.reject(L)}};u.prototype.createResolveAndReject_=function(){function h(h){return function(t){q||(q=!0,h.call(m,t))}}var m=this,q= !1;return{resolve:h(this.resolveTo_),reject:h(this.reject_)}};u.prototype.resolveTo_=function(h){if(h===this)this.reject_(new TypeError('A Promise cannot resolve to itself'));else if(h instanceof u)this.settleSameAsPromise_(h);else{a:switch(typeof h){case 'object':var t=null!=h;break a;case 'function':t=!0;break a;default:t=!1}t?this.resolveToNonPromiseObj_(h):this.fulfill_(h)}};u.prototype.resolveToNonPromiseObj_=function(h){var t=void 0;try{t=h.then}catch(L){this.reject_(L);return}'function'==typeof t? this.settleSameAsThenable_(t,h):this.fulfill_(h)};u.prototype.reject_=function(h){this.settle_(2,h)};u.prototype.fulfill_=function(h){this.settle_(1,h)};u.prototype.settle_=function(h,m){if(0!=this.state_)throw Error('Cannot settle('+h+', '+m+'): Promise already settled in state'+this.state_);this.state_=h;this.result_=m;this.executeOnSettledCallbacks_()};u.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var h=0;h<this.onSettledCallbacks_.length;++h)B.asyncExecute(this.onSettledCallbacks_[h]); this.onSettledCallbacks_=null}};var B=new q;u.prototype.settleSameAsPromise_=function(h){var m=this.createResolveAndReject_();h.callWhenSettled_(m.resolve,m.reject)};u.prototype.settleSameAsThenable_=function(h,m){var q=this.createResolveAndReject_();try{h.call(m,q.resolve,q.reject)}catch(ea){q.reject(ea)}};u.prototype.then=function(h,m){function q(h,m){return'function'==typeof h?function(m){try{t(h(m))}catch(va){C(va)}}:m}var t,C,B=new u(function(h,m){t=h;C=m});this.callWhenSettled_(q(h,t),q(m,C)); return B};u.prototype.catch=function(h){return this.then(void 0,h)};u.prototype.callWhenSettled_=function(h,m){function q(){switch(t.state_){case 1:h(t.result_);break;case 2:m(t.result_);break;default:throw Error('Unexpected state: '+t.state_);}}var t=this;null==this.onSettledCallbacks_?B.asyncExecute(q):this.onSettledCallbacks_.push(q)};u.resolve=m;u.reject=function(h){return new u(function(m,q){q(h)})};u.race=function(h){return new u(function(q,t){for(var u=$jscomp.makeIterator(h),C=u.next();!C.done;C= u.next())m(C.value).callWhenSettled_(q,t)})};u.all=function(h){var q=$jscomp.makeIterator(h),t=q.next();return t.done?m([]):new u(function(h,u){function C(m){return function(q){B[m]=q;L--;0==L&&h(B)}}var B=[],L=0;do B.push(void 0),L++,m(t.value).callWhenSettled_(C(B.length-1),u),t=q.next();while(!t.done)})};return u},'es6','es3');$jscomp.polyfill('Object.is',function(h){return h?h:function(h,m){return h===m?0!==h||1/h===1/m:h!==h&&m!==m}},'es6','es3'); $jscomp.polyfill('Array.prototype.includes',function(h){return h?h:function(h,m){var q=this;q instanceof String&&(q=String(q));var u=q.length;m=m||0;for(0>m&&(m=Math.max(m+u,0));m<u;m++){var B=q[m];if(B===h||Object.is(B,h))return!0}return!1}},'es7','es3');$jscomp.polyfill('String.prototype.includes',function(h){return h?h:function(h,m){return-1!==$jscomp.checkStringArgs(this,h,'includes').indexOf(h,m||0)}},'es6','es3'); $jscomp.polyfill('String.prototype.endsWith',function(h){return h?h:function(h,m){var q=$jscomp.checkStringArgs(this,h,'endsWith');h+='';void 0===m&&(m=q.length);m=Math.max(0,Math.min(m|0,q.length));for(var u=h.length;0<u&&0<m;)if(q[--m]!=h[--u])return!1;return 0>=u}},'es6','es3'); (function(h,q){q(h)})('undefined'!==typeof self?self:this,function(h,q){function m(){var a='0123456789abcdef'.split(''),b=[],c=Math.random;b[8]=b[13]=b[18]=b[23]='-';b[14]='4';for(var d=0;36>d;d++)if(!b[d]){var g=0|16*c();b[d]=a[19==d?g&3|8:g&15]}return b.join('')}function C(a){return e.rum.key+'-'+a}function u(){for(var a=e.rum.key?e.rum.key:l.getCookie('yo-rum-key'),b=0,c=0,d=0,g=0;g<e.delayed.length;g++){var n=e.delayed[g];'none'!=n.orgDelayType&&(ma='active',n.newNode&&n.newNode.nodeName?'img'== n.newNode.nodeName.toLowerCase()?c++:'script'==n.newNode.nodeName.toLowerCase()&&'attributesrc'!=n.type&&b++:n.me&&n.me.nodeName&&'script'==n.me.nodeName.toLowerCase()&&d++)}g=null!=a?a:window.location.hostname;a=wa;n=document.location.href;var v=navigator.userAgent,h=document.title,k=l.hasResourceTiming()&&l.def(window.performance.timing.toJSON),q=l.hasResourceTiming(),p=l.hasResourceTiming(),t=l.metaDataValue('X-Yottaa-Optimizations'),u=(new Date).getTime();if(0==l.hasResourceTiming()||0==l.def(window.performance.getEntriesByType))var r= {};else{r=window.performance.getEntriesByType('resource');for(var A=r.length,w={},x=0;x<A;x++){var y=r[x],z=w[y.initiatorType];z?(z.count++,z.size+=y.decodedBodySize):w[y.initiatorType]={count:1,size:y.decodedBodySize}}r=w}b={siteKey:g,uuid:a,formatVersion:'3',releaseDate:'2022-07-20-SECURITY',requestType:'navigation',fullPageURL:n,pageCategory:'',userAgent:v,pageTitle:h,isNavigationSupported:k,isResourceTimingSupported:q,isPaintTimingSupported:p,yOptimizations:t,eventTimestamp:u,entryMap:r,sequencing:{numScriptsSequenced:b, numImagesSequenced:c,numBlocksSequenced:d,numDelayedObjects:e.delayed.length},commonDimensions:{}};e.rum.pageCategory&&(b.pageCategory=e.rum.pageCategory);F.geo&&(b.geo=F.geo);c=navigator.connection||navigator.mozConnection||navigator.webkitConnection;b.connection={};1==f.def(c)&&(b.connection.effectiveType=c.effectiveType,b.connection.rtt=c.rtt);for(var D in X)b.commonDimensions[D]=X[D];b.commonDimensions.optState||(b.commonDimensions.optState=ma);try{if(window.localStorage&&localStorage.getItem){var B= localStorage.getItem(C('rapid-js-visitor-3'));if(null!=B){B=JSON.parse(B);var E=(new Date).getTime()>B.visitorTimestamp+18E5;b.visitor={visitorTimestamp:(new Date).getTime(),numVisitorPageViews:B.numVisitorPageViews+1,numSessionPageViews:E?1:B.numSessionPageViews+1,visitorId:B.visitorId?B.visitorId:m(),numSessions:E?B.numSessions+1:B.numSessions,sessionId:E?m():B.sessionId,bandwidth:''}}else b.visitor={visitorTimestamp:(new Date).getTime(),numVisitorPageViews:1,numSessionPageViews:1,numSessions:1, visitorId:m(),sessionId:m(),bandwidth:''};localStorage.setItem(C('rapid-js-visitor-3'),JSON.stringify(b.visitor));var G=localStorage.getItem(C('rapid-js-qoe-5'));null!=G&&(b.qoe=JSON.parse(G))}}catch(Rb){l.log('localStorage was not available',Rb)}1==b.isNavigationSupported&&!0!==e.rum.spa&&(b.navigationTiming=window.performance.timing.toJSON(),b.experienceMetrics=na,bb&&(b.webVitalsInfo=S));b.isPaintTimingSupported=!1;b.paintTiming={};b.userTiming={};b.measureTiming={};if(window.performance&&window.performance.getEntriesByType){D= window.performance.getEntriesByType('paint');if(null!=D&&0<D.length)for(b.isPaintTimingSupported=!0,g=0;g<D.length;g++)b.paintTiming[D[g].name]=D[g].startTime;D=window.performance.getEntriesByType('mark');if(null!=D&&0<D.length)for(g=0;g<D.length;g++)b.userTiming[D[g].name]=D[g].startTime;D=window.performance.getEntriesByType('measure');if(null!=D&&0<D.length)for(g=0;g<D.length;g++)b.measureTiming[D[g].name]=D[g].duration}F.rum=b}function B(a){for(var b=0;b<e.delayed.length;b++){var c=e.delayed[b]; if(c.src==a||c.srcAttr==a)return c}return null}function t(a,b,c,d){a={lastByteTime:c.duration,implementationType:'dom',type:a,zone:b,resourceName:c.name,resourceSizeBytes:c.decodedBodySize};c=B(c.name);null!=c&&(a.delayedType=c.orgDelayType,a.delayedValue=c.delayValue);f.def(d)&&(a.stack=d);return a}function ua(a){if(0!=l.hasResourceTiming()){try{if(!window.localStorage||!window.localStorage.getItem)return}catch(D){l.log('localStorage was not available');return}var b=F.rum,c=[],d=window.performance.timing, g=0,n=0,v=d.domInteractive-d.navigationStart,h=d.domContentLoadedEventEnd-d.navigationStart,k=d.domComplete-d.navigationStart,m=d.loadEventEnd-d.navigationStart,q=window.performance.getEntries();d=q.length;a:{if(document.querySelector){var p=document.querySelector('img[class*=hero]');if(null!=p){p=p.currentSrc||p.src;break a}}for(var u=document.getElementsByTagName('img'),r=null,x=0,w=document.documentElement.scrollTop||document.body.scrollTop,y=0;y<u.length;y++){p=u[y];var z=p.getBoundingClientRect(); if(z.top-w<window.innerHeight)z.width*z.height>x&&(r=p.currentSrc||p.src,x=z.width*z.height);else break}p=r}for(u=0;u<d;u++)w=q[u],r=w.startTime,y=0,'resource'==w.entryType&&(r<=v?(n+=e.rum.advanced.domInteractiveCoef,y=1):r<=h?(n+=e.rum.advanced.domContentLoadedEventCoef,y=2):r<=k?(n+=e.rum.advanced.domCompleteCoef,y=3):r<=m||a&&u<a?(n+=e.rum.advanced.loadEventCoef,y=4):0<w.duration&&(g+=w.duration),x=xa[w.name],0!=y&&w.duration>e.rum.advanced.blockingTime?P.push(t(4,y,w,x)):0==y&&w.duration>e.rum.advanced.performanceTime? P.push(t(0,y,w,x)):w.decodedBodySize>e.rum.advanced.violationSize&&P.push(t(1,y,w,x)),1==w.name.toLowerCase().startsWith('https:')&&1==w.name.toLowerCase().startsWith('http:')&&P.push(t(3,y,w,x)),p==w.name&&(A.setExperienceMetric('hero_image_display',w.startTime+w.duration),A.setExperienceMetric('hero_image',p)),w.toJSON&&(w=w.toJSON(),w.implementationType='dom',f.def(x)&&(w.stack=x),x=B(w.name),null!=x&&(w.delayedType=x.orgDelayType,w.delayedValue=x.delayValue),w.onLoadStartTime=r-m,c.push(w))); 1<d&&f._calculateTti(q,d,m);window.performance.getEntriesByName&&!0!==e.rum.spaTransition&&(a=document.getElementsByTagName('script'),ya(a,'src'),a=document.getElementsByTagName('link'),ya(a,'href'),a=document.getElementsByTagName('img'),ya(a,'currentSrc'));a=localStorage.getItem(C('rapid-js-qoe-5'));null==a?a={sessionTimeSaved:g,journeyTime:g}:(a=JSON.parse(a),a={sessionTimeSaved:(new Date).getTime()>a.collectionTimestamp+18E5?g:a.sessionTimeSaved+g,journeyTime:a.journeyTime+g});a.entries=d;a.timeSaved= g;a.score=n;a.pageMeasured=b?b.fullPageURL:window.location.href;a.pageMeasuredCategory=b?b.pageCategory:'';a.violations=P;!0===e.rum.requests&&(a.resourceTiming=c);a.jsErrors=za;a.pageMeasuredUuid=wa;a.collectionTimestamp=(new Date).getTime();a.commonDimensions={};for(var E in X)a.commonDimensions[E]=X[E];a.experienceMetrics=na;bb&&(a.webVitalsInfo=S);a.commonDimensions.optState||(a.commonDimensions.optState=ma);try{!0!==e.sendRumOnUnload?localStorage.setItem(C('rapid-js-qoe-5'),JSON.stringify(a)): b.qoe=a}catch(D){f.log('LocalStorage failed to save',D)}}}function L(a){if(window.performance&&window.performance.getEntriesByType)for(var b=window.performance.getEntriesByType('resource'),c=0;c<b.length;c++)if(b[c].name===a)return c;return-1}function ea(a,b,c,d){if(e.sequenceWrites&&'script'==a.nodeName.toLowerCase()){for(var g in H)0<H[g].length&&d.writeSelector!=H[g][0].getWriteSelector()&&f.def(d.writeSelector)&&(a.yo_writeSelector=d.writeSelector);f.def(d.writeSelector)&&f.def(d.writeSelector.nodeName)&& (d.writeSelector.id?d.writeSelector='#'+d.writeSelector.id:(b='yo_write_'+Math.floor(1E9*Math.random()),d.writeSelector.setAttribute('id',b),d.writeSelector='#'+b));g=f.select(d.writeSelector);if(null!=g){d=new E(g,{src:a},d);d.initialize();a.write_context=d;a.original_onload=a.onload;a.original_onreadystatechange=a.onreadystatechange;a.onload=a.onreadystatechange=null;var n=!1;a.onerror=a.onload=function(){n||this.readyState&&'loaded'!==this.readyState&&'complete'!==this.readyState||(f.log('loading ', this,this.write_context.getId()),n=!0,this.original_onload?this.original_onload.call(arguments):k.publish({topic:'sequence/afterloaded/'+a.src,message:a}),this.write_context.finalizeWriteOverride(),this.original_onload=this.write_context=this.onload=this.onreadystatechange=null)};a.onreadystatechange=function(){n||this.readyState&&'loaded'!==this.readyState&&'complete'!==this.readyState||(f.log('loading ',this,this.write_context.getId()),n=!0,this.original_onload||k.publish({topic:'sequence/afterloaded/'+ a.src,message:a}),this.write_context.finalizeWriteOverride(),this.original_onload=this.write_context=this.onload=this.onreadystatechange=null);this.original_onreadystatechange&&this.original_onreadystatechange.call(arguments)}}}return!0}function Nb(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);f.writeHTML(a,b)}function Pb(){if(0!=e.afterShockLoaded){for(var a=0;a<e.delayed.length;a++)if('none'!=e.delayed[a].delayType)return;null!=e.intervalID&&(clearInterval(e.intervalID),e.intervalID=null, f.log('Turning off response timer all objects are loaded.'))}}function $a(a){e.sequenceWrites&&f.undef(a.yo_write)&&(a.yo_write=a.write,Aa=Ob,a.writeln=a.write=function(){var b=Array.prototype.slice.call(arguments).join('');Aa(b,a)})}function Ob(a,b){for(var c=!1,d=0;d<e.write.length;d++){var g=e.write[d];if(a.match(g.start)||1==g.state){d={document:b};for(var n in g)d[n]=g[n];c=!0;g.string&&0==Ba?g.string+=a:(g.state=1,g.string=a);if(f.undef(g.end)||a.match(g.end)){if(f.undef(d.delayType)||'none'== d.delayType){g.config=d;if(f.def(d.onBefore))d.onBefore(g,b);f.undef(d.selector)||null==d.selector?d.selector=b:d.selector=f.select(d.selector);d.selector.yo_write?(Ba=!0,-1!=g.string.indexOf('m_js_controller.js')&&(Ba=!0),d.selector.yo_write(g.string)):f.writeHTML(d.selector,g.string,d.how);if(f.def(d.onAfter))d.onAfter(g,b)}else f.undef(d.selector)?(d.selector='yo_write_'+Math.floor(1E9*Math.random()),f.undef(d.how)&&(d.how='append'),f.undef(d.delayValue)&&(d.delayValue=d.selector),document.yo_write('<di'+'v id='+ d.selector+' style=width:0px;height:0px></di'+'v>'),d.selector=f.select(d.selector).parentNode):d.selector=f.select(d.selector),n=Yo.sequence.resource(''),f.def(d.onBefore)&&n.beforeLoading(d.onBefore),f.def(d.onLoad)&&n.afterLoaded(d.onLoad),n.type='inner',n.how=g.how,n.newNode=a,n.before=d.selector,n.me=d.selector,e.delayed.push(n),domCompleteTriggered&&n.execute();g.state=2;g.string=''}break}}0==c&&b.yo_write(a);f.log('write hander = '+a)}function ab(a){return function(b,c){var d='on'+b.toLowerCase(), g=fa[d];if(g)ha(function(){try{c.call(g.object,g.event)}catch(v){f.log('Overridden event listener threw an exception',v)}},0);else try{var n=Array.prototype.slice.call(arguments,0);return a?this.yo_addEventListener.apply(this,n):this.yo_attachEvent.apply(this,n)}catch(v){f.log('Overridden event listener threw an exception',v)}}}function va(a,b,c){function d(a){f.log('Loading '+c.before.src+' via event handler '+c.delayValue);c.afterShock();var g=null;f.def(a.currentTarget)?g=a.currentTarget:f.def(a.srcElement)&& (g=a.srcElement);f.removeEvent(g,b[0],d)}f.log('Adding event ',b[0],b[1]);f.addEvent(a,b[0],d)}function cb(a,b){return a.top>b.top-a.height&&a.bottom<b.bottom+e.offset+2*a.height&&a.left>b.left-a.width&&a.right<b.right+e.offset+2*a.width}function Sb(a,b){return db(this,a,b,'insert')}function Tb(a){return db(this,a,a,'append')}function db(a,b,c,d){k.publish({topic:'sequence/captured',message:{parentNode:a,newNode:b,before:c,captureType:d}});if(0==Ca(b,a,function(a,f){a=a.clone();a.type=d;a.newNode= b;a.src=b?b.src:'';a.before=c;a.me=f;e.delayed.push(a)}))return Y.safeWriteInsert(b,c,a,ia(b),'append'==d);a=e.delayed[e.delayed.length-1];if(domCompleteTriggered||'none'==a.delayType)return a.execute()}function Ca(a,b,c){var d=null,g=null,n=!1;a&&a.nodeName&&(d=a.nodeName.toLowerCase());if('script'==d||'iframe'==d){g=ia(a);c(g,b);n=!0;var e=!1;a.onreadystatechange&&(a.onreadystatechangeOriginal=a.onreadystatechange,a.onreadystatechange=null);a.onreadystatechange=function(){e||this.readyState&&'loaded'!== this.readyState&&'complete'!==this.readyState||(k.publish({persistent:!0,topic:'sequence/afterloaded/'+g.key,message:g}),e=!0);if(this.onreadystatechangeOriginal){var a=this.onreadystatechangeOriginal;this.onreadystatechangeOriginal=null;a.apply(this,arguments)}};a.onload&&(a.onloadOriginal=a.onload,a.onload=null);a.onload=function(){0==e&&(k.publish({persistent:!0,topic:'sequence/afterloaded/'+g.key,message:g}),e=!0);if(this.onloadOriginal){var a=this.onloadOriginal;this.onloadOriginal=null;a.apply(this, arguments)}}}else if(g=ia(b),null==g||'none'!=g.delayType)c(g,b),g.before=b,n=!0;f.log(a.nodeName+' '+a.src+' is'+(n?' ':' NOT ')+'sequenced.');0==n&&k.publish({topic:'sequence/beforeloading/'+g.key,message:g});return n}function ia(a){var b=a.src;1==e.excludeParameters&&b&&b.split&&(b=b.split('?')[0]);1==f.def(a.yo_src)&&(b=a.yo_src);if(null==b||0==b.length){var c=new (_delayed());c.delayType='none';return c}for(c=0;c<e.resources.length;c++){var d=e.resources[c];if(1==d.match&&1==f.matchUrl(d.url, b)||'function'===typeof d.url&&1==d.url(a,d))if('xhr'===a.nodeName&&!0===d.xhr||'dom'===a.nodeName&&!0===d.dom||!0!==d.xhr&&!0!==d.dom&&'xhr'!==a.nodeName&&'dom'!==a.nodeName)return f.log('Found configuration for '+b+' delayType '+d.delayType),'empty'==d.delayType&&(a.src=null==d.delaySrc?'data:text/javascript;plain,//':d.delaySrc,d.delayType='none'),d}f.log('Did NOT find configuration for '+b+' checking local configuration. ');c=new (_delayed());c.key=c.src=b;if(null!=a.delayType)'empty'==a.delayType&& (a.src=null==a.delaySrc?'data:text/javascript;plain,//':a.delaySrc,a.delayType='none'),c[a.delayType](a.delayValue);else c[e.defaultType](e.defaultDelay);c.before=a;return c}function Da(){for(var a=0;a<e.resources.length;a++){var b=e.resources[a];if(!b.isConfig){var c=new (_delayed());c.key=c.url=b.url;c.match=!0;c.local=!0;c[b.delayType](b.delayValue);e.resources[a]=c}}}function eb(a,b){b=b||0;Ub(a.assetUrls[b],function(c){c?Ea(a,ja.INSTALLED):b===a.assetUrls.length-1?Ea(a,c?ja.INSTALLED:ja.NOT_INSTALLED): eb(a,++b)})}function Ub(a,b){var c=new XMLHttpRequest;c.open('GET',a);c.onreadystatechange=function(){4===this.readyState&&b(200===this.status)};c.send(null)}function Ea(a,b){var c={id:a.id,state:b};r.checkedExtensions.push(c);b===ja.INSTALLED&&(k.publish({topic:'hijacking/found/'+a.id,persistent:!0,message:c}),k.publish({topic:'hijacking/found',message:c}));r.checkedExtensions.length===r.config.extensions.length&&(r.detectionComplete=!0,k.publish({topic:'hijacking/finished',message:r.checkedExtensions}))} function fb(a,b,c,d){G.checkedComponents.push({id:a.id,state:b,extensionId:c.id});k.publish({topic:'hijacking/component-found',message:{element:d,component:a,extension:c}})}function gb(a,b,c){c.reportOnly||'active'!==r.optState?fb(b,hb.DETECTED,c,a):(a.remove(),fb(b,hb.BLOCKED,c,a),p.utils.log('Journey Hijacking removed',a,'which matches component',b,'of extension',c),k.publish({topic:'hijacking/blocked',message:{element:a,component:b,extension:c}}))}function Vb(a,b,c){try{if(b.test(a))return b.requireDetection? k.subscribe({topic:'hijacking/found/'+c.id,callback:function(){gb(a,b,c)}}):gb(a,b,c),!0}catch(d){return!1}}function Wb(){var a={childList:!0,subtree:!1};I=new MutationObserver(function(a){for(var b=0;b<a.length;b++)for(var d=0;d<a[b].addedNodes.length;d++)a:for(var g=a[b].addedNodes[d],f=r.config.extensions,e=0;e<f.length;e++){var h=f[e];if(h.components)for(var k=0;k<h.components.length;k++)if(Vb(g,h.components[k],h))break a}});I.observe(window.document.documentElement,a);window.document.body?I.observe(window.document.body, a):window.document.addEventListener('DOMContentLoaded',function(b){I.observe(window.document.body,a)})}function ib(a){var b=p.stats().rum;b={siteKey:b.siteKey,sessionId:b.visitor.sessionId,pageMeasured:b.fullPageURL,pageCategory:b.pageCategory,visitorId:b.visitor.visitorId,requestId:b.uuid,optState:r.optState,extensions:r.checkedExtensions,components:G.checkedComponents};if(a){a:{a=Fa();var c=window.localStorage.getItem(a);if(c){try{var d=JSON.parse(c)}catch(g){window.localStorage.removeItem(a);d= null;break a}window.localStorage.removeItem(a)}else d=null}d&&(b.previousPage=d)}return b}function Fa(){var a=p.stats().rum;return'hijacking-'+(a&&a.visitor&&a.visitor.sessionId)}function Xb(){var a=ib(!1),b=Fa(),c=JSON.stringify(a);window.localStorage.setItem(b,c);k.publish({topic:'hijacking/payload-saved',message:{storageKey:b,payload:a}})}function jb(){null!==oa&&(k.unsubscribe(oa),oa=null)}function kb(){jb();var a=ib(!0),b=k.publish({topic:'hijacking/beforeSend',async:!1,message:a});if(0<b.length&& !1===b[0])return!1;k.publish({topic:'hijacking/send',message:a});l.sendData(a,r.config.reportUri);pa=k.subscribe({topic:'hijacking/component-found',callback:Xb});return!0}function lb(){var a=f.browser();return!!a&&'chrome'===a.name}var ha=window.setTimeout,mb=window.setInterval,e={defaultDelay:5E3,defaultType:'none',log:!1,throttle:20,sequenceXHR:!1,sequenceWrites:!1,sendTimingData:!1,timingDataURL:'',offset:100,scan:['script','img','source','picture'],resources:[],abTesting:[],write:[],intervalID:null, lazyCheckSize:!0,pre:'data-yo-',srcAttrs:['data-yo-src','data-yo-srcset'],afterShockLoaded:!1,optimizeIE:!0,logPrefix:'Yo.utils.log: ',delayed:[],maxMessageSize:2048E3,scriptAttrs:['async','nomodule','defer'],ttiWatcherInterval:3E3,ttiLagTime:2E3,scrapeLevel:'top',sendRumOnUnload:!1,excludeParameters:!1},l={log:function(){if(e.log&&('undefined'!==typeof window&&l.def(window.console)&&l.def(window.console.log)||'undefined'!==typeof h&&l.def(h.console)&&l.def(h.console.log))){var a=Array.prototype.slice.call(arguments); a.unshift(e.logPrefix);console.log.apply(console,a)}},def:function(a){return'undefined'!=typeof a},undef:function(a){return!l.def(a)},isFunction:function(a){return!!(a&&a.constructor&&a.call&&a.apply)},decodeSafeString:function(a){return decodeURIComponent(a)},getCookie:function(a){for(var b=document.cookie.split(';'),c=0;c<b.length;c++){var d=b[c];if(-1!=d.indexOf(a)){for(;' '==d.charAt(0);)d=d.substring(1,d.length);return d.substring(a.length+1,d.length)}}return null},setCookie:function(a,b,c){var d= '';c&&(d=new Date,d=new Date(d.getTime()+1E3*c),d='; expires='+d.toGMTString());document.cookie=a+'='+b+d+'; path=/';return!0},addEvent:function(a,b,c){a.attachEvent?a.attachEvent('on'+b,c):a.addEventListener&&a.addEventListener(b,c,!1)},removeEvent:function(a,b,c){a.detachEvent?a.detachEvent('on'+b,c):a.removeEventListener(b,c,!1)},metaDataValue:function(a,b){var c=document.getElementsByName(a);return null!=c&&1==c.length?1==arguments.length?c[0].getAttribute('content'):c[0].setAttribute('content', b):null},matchUrl:function(a,b){if(null==a||null==b||''==a)return!1;l.log('Match src',b,'and url',a);return'string'===typeof a&&-1!=b.indexOf(a)||'object'===typeof a&&null!=b.match(a)},sendData:function(a,b){if(1==l.isIE('8'))return l.log('IE 8 detected we will not send data back for this browser currently.'),!1;var c=JSON.stringify(a);navigator.sendBeacon&&c.length<e.maxMessageSize&&3E4>c.length?(p.pubsub.publish({topic:'sequence/beforeloading/'+b,message:a}),navigator.sendBeacon(b,c),p.pubsub.publish({topic:'sequence/afterloaded/'+ b,message:a})):c.length<e.maxMessageSize?(a=new XMLHttpRequest,a.onreadystatechange=function(){4==this.readyState&&l.log('Rum data response received',this.status)},a.open('POST',b,!0),a.setRequestHeader('Content-type','application/json'),a.send(c)):l.log('Message is larger than max message length for qoe calles message size: ',c.length,e.maxMessageSize)}},k={},T={},Yb=1,nb={},Ga=[],Zb=function(a,b){ha(function(){a.callback.call(a.context,b.message,b.topic)},0)};k.subscribe=function(a){a.id=++Yb;l.undef(a.priority)&& (a.priority=0);l.undef(a.priority)&&(a.priority=0);'string'===typeof a.topic&&-1!=a.topic.indexOf('*')&&(a.topic=new RegExp(a.topic.replace(/\*/g,'.*')));if('string'===typeof a.topic){a.topic=a.topic.toLowerCase();1==l.undef(T[a.topic])&&(T[a.topic]=[]);T[a.topic].push(a);T[a.topic].sort(function(a,b){return b.priority-a.priority});var b=nb[a.topic];l.def(b)&&a.callback.call(b.context,b.message,b.topic)}else Ga.push(a);l.log('_pubsub.subscribe',a.topic,a.id);return a.id};k.publish=function(a){a.topic= a.topic.toLowerCase();for(var b=T[a.topic],c=b=1==l.undef(b)?[]:b.slice(0),d=0;d<Ga.length;d++){var g=Ga[d];null!=a.topic.match(g.topic)&&c.push(g)}a.persistent&&(nb[a.topic]=a);if(0<b.length){c=[];for(d=0;d<b.length;d++){g=b[d];var f=!0;1==a.async?Zb(g,a):(f=g.callback.call(g.context,a.message,a.topic),c.push(f));l.log('_pubsub.publish',g.topic,g.id);if(0==f&&!0===a.cancellable)break}return c}l.log('_pubsub.publish',a.topic,'no callbacks');return 0};k.unsubscribe=function(a){for(var b in T)for(var c= T[b],d=0;d<c.length;d++)if(c[d].id==a)return c.splice(d,1),l.log('_pubsub.unsubscribe','found'),!0;l.log('_pubsub.unsubscribe','not found');return!1};var F={releaseDate:'2022-07-20-SECURITY',errors:{has:!1},config:e},Ha=function(){return F};k.subscribe({topic:'core/configure',callback:function(a){Ha.config=e}});k.subscribe({topic:'core/start',callback:function(){Ha.config=e}});l.addEvent(window,'error',function(a){var b=a.message,c=a.lineno,d=a.filename;3==arguments.length&&(b=arguments[0],d=arguments[1],c=arguments[2]); l.log('errorCapture',b,c,d);var g='';try{g=a&&a.error&&a.error.stack?a.error.stack:Error().stack}catch(n){}k.publish({topic:'core/js/error',persistent:!0,message:{message:b,implementationType:'dom',resourceName:d,lineNumber:c,stack:g,collectionTimestamp:(new Date).getTime()}});F.errors={has:!0}});var ob=0;l.hasWebVitals=function(){return'undefined'!==typeof window.LayoutShift};var Ia=function(){(new PerformanceObserver(function(a){a=a.getEntries();for(var b=0;b<a.length;b++){var c=a[b];k.publish({topic:'web-vitals/cumulative-layout-shift', persistent:!0,message:{score:c.value,entry:c}})}})).observe({type:'layout-shift',buffered:!0});(new PerformanceObserver(function(a){a=a.getEntries();for(var b=0;b<a.length;b++){var c=a[b];k.publish({topic:'web-vitals/first-input',persistent:!0,message:{delay:c.processingEnd-c.startTime,name:c.name,startTime:c.startTime,entry:c}})}})).observe({type:'first-input'});(new PerformanceObserver(function(a){a=a.getEntries();for(var b=0;b<a.length;b++){var c=a[b];k.publish({topic:'web-vitals/largest-contentful-paint', persistent:!0,message:{time:c.startTime,entry:c}})}})).observe({type:'largest-contentful-paint',buffered:!0});(new PerformanceObserver(function(a){a=a.getEntries();for(var b=0;b<a.length;b++){var c=a[b];f.def(c.interactionId)&&ob<c.duration&&(ob=c.duration,k.publish({topic:'web-vitals/interaction-to-next-paint',persistent:!0,message:{time:c.duration,entry:c}}))}})).observe({type:'event',durationThreshold:16,buffered:!0})};try{1==l.hasWebVitals()&&Ia()}catch(a){l.log('WebVital initialize error',a.message)}l.hasResourceTiming= function(){return l.def(window.performance)&&l.def(window.performance.getEntries)};l.calculateTti=function(){var a=window.performance.timing;if(0==l.hasResourceTiming()||l.undef(a.loadEventEnd))return-1;var b=window.performance.getEntries();return l._calculateTti(b,b.length,a.loadEventEnd-a.navigationStart)};l._calculateTti=function(a,b,c){for(var d=[],g=e.ttiLagTime,f=-1,v=a[0],h=v.startTime,k=h+v.duration,l=[h,k+g],m=0;m<b;m++)if(v=a[m],h=v.startTime,k=h+v.duration,'resource'==v.entryType)if(1== (h+k>=l[0]&&h<=l[1])){if(d.push(v),2<d.length)if(l=[h,k+g],pb(d,l),3<=d.length)f=l[1]-g;else break}else if(h>l[1]-g){if(k>c)break;l=[h,k+g];pb(d,l)}if(f<c){if(0==e.afterShockLoaded)return-1;f=c}A.setExperienceMetric('time_to_interactive',f);return f};var pb=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],g=d.startTime;0==(g+(g+d.duration)>=b[0]&&g<=b[1])&&(a.splice(c,1),c--)}},A={},za=[],P=[],ma='unknown',X={optState:ma},wa=m(),xa={},Ja=0,qb=0,na={},bb=l.hasWebVitals(),S={lcp:[],cls:[],fid:[], inp:[]};A.initialize=function(a,b,c,d,g){e.rum={beaconUrl:a,requests:b,key:c,post:!0,advanced:{performanceTime:1500,blockingTime:750,violationSize:1024E3,domInteractiveCoef:200,domContentLoadedEventCoef:150,domCompleteCoef:100,loadEventCoef:50}};l.def(g)&&(g.performanceTime&&(e.rum.advanced.performanceTime=g.performanceTime),g.blockingTime&&(e.rum.advanced.blockingTime=g.blockingTime),g.violationSize&&(e.rum.advanced.violationSize=g.violationSize),g.maxMessageSize&&(e.maxMessageSize=g.maxMessageSize)); window.performance&&window.performance.setResourceTimingBufferSize&&window.performance.setResourceTimingBufferSize(500)};A.addViolation=function(a,b){P.push({lastByteTime:0,implementationType:'dom',type:a,zone:0,duration:0,startTime:-1,resourceName:b,resourceSizeBytes:0})};var ya=function(a,b){for(var c=0;c<a.length;c++)if('href'!=b||'stylesheet'==a[c].rel){var d=a[c][b];if(null!=d&&''!=d&&(0==d.indexOf('//')&&(d=window.location.protocol+d),1==d.startsWith('http'))){var g=window.performance.getEntriesByName(d); null!=g&&0!=g.length||P.push(t(2,0,{name:d,duration:0,decodedBodySize:0},xa[d]))}}};Ia=function(){A.setExperienceMetric('cumulative_layout_shift',0);k.subscribe({topic:'web-vitals/cumulative-layout-shift',callback:function(a){var b=a.entry,c=[];if(!b.hadRecentInput){var d=A.getExperienceMetric('cumulative_layout_shift');A.setExperienceMetric('cumulative_layout_shift',d+a.score)}for(a=0;a<b.sources.length;a++)d=b.sources[a],c.push({node:l.elementToString(d.node),currentRect:d.currentRect,previousRect:d.previousRect}); S.cls.push({duration:b.duration,entryType:b.entryType,hadRecentInput:b.hadRecentInput,lastInputTime:b.lastInputTime,name:b.name,sources:c,startTime:b.startTime,value:b.value})}});k.subscribe({topic:'web-vitals/first-input',callback:function(a){var b=a.entry;A.setExperienceMetric('first_input_delay',a.delay);A.setExperienceMetric('first_input_name',a.name);A.setExperienceMetric('first_input_start_time',a.startTime);S.fid.push({cancelable:b.cancelable,duration:b.duration,entryType:b.entryType,name:b.name, processingEnd:b.processingEnd,processingStart:b.processingStart,startTime:b.startTime,target:l.elementToString(b.target)})}});k.subscribe({topic:'web-vitals/largest-contentful-paint',callback:function(a){var b=a.entry;A.setExperienceMetric('largest_contentful_paint',a.time);S.lcp.push({entryType:b.entryType,duration:b.duration,id:b.id,name:b.name,renderTime:b.renderTime,startTime:b.startTime,size:b.size,loadTime:b.loadTime,url:b.url,resourceIndex:L(b.url),element:l.elementToString(b.element)})}}); k.subscribe({topic:'web-vitals/interaction-to-next-paint',callback:function(a){var b=a.entry;A.setExperienceMetric('interaction_to_next_paint',a.time);S.inp.push({duration:b.duration,entryType:b.entryType,interactionId:b.interactionId,name:b.name,processingEnd:b.processingEnd,processingStart:b.processingStart,startTime:b.startTime,target:l.elementToString(b.target)})}})};A.captureStack=function(){try{return Error().stack}catch(a){return''}};A.set=function(a,b){X[a]=b};A.spa=function(){e.rum&&(e.rum.spa= !0)};A.get=function(){return X};A.now=function(){return window.performance&&window.performance.now?Math.floor(window.performance.now()):Math.floor((new Date).getTime())};A.setExperienceMetric=function(a,b){na[a]=b};A.getExperienceMetric=function(a){return na[a]};k.subscribe({topic:'core/load',callback:function(){l.def(e.rum)&&l.def(e.rum.beaconUrl)&&(e.rum.onLoadTime=A.now(),!0!==e.rum.spa&&ha(function(){l.log('onload window event triggered');!0===e.sendRumOnUnload?u():k.publish({topic:'rum/send', message:F.rum})},100),l.addEvent(window,'beforeunload',function(){l.log('beforeunload window event triggered');!0===e.sendRumOnUnload?k.publish({topic:'rum/send',message:F.rum}):ua()}))}});k.subscribe({topic:'sequence/captured',callback:function(a,b){b='';a.open_args?b=a.open_args[1]:a.newNode&&a.newNode.src?b=a.newNode.src:a.delayed&&a.delayed.newNode&&a.delayed.newNode.src?b=a.delayed.newNode.src:a.src&&(b=a.src);xa[b]=A.captureStack()}});k.subscribe({topic:'core/js/error',callback:function(a,b){za.push(a)}}); k.subscribe({topic:'rum/spa/transition/start',callback:function(a,b){if(0!=Ja){a=A.now();b=F.rum;e.rum.spa=e.rum.spaTransition=!0;if(l.undef(b)||l.undef(b.navigationTiming))l.undef(b)&&(b={}),window.performance&&window.performance.timing&&(b.navigationTiming=window.performance.timing.toJSON());for(var c in b.navigationTiming)b.navigationTiming[c]=a;wa=m();P=[];za=[];ua(qb);window.performance&&(A.clearResourceTimings.call(window.performance),window.performance.clearMarks&&window.performance.clearMarks(), window.performance.clearMeasures&&window.performance.clearMeasures())}}});k.subscribe({topic:'rum/spa/rendered',callback:function(a,b){b=F.rum;var c=A.now(),d=b?b.navigationTiming:null;u();b=F.rum;1==f.undef(b.navigationTiming)&&(b.navigationTiming=d?d:window.performance&&window.performance.timing?window.performance.timing.toJSON():{});a.pageType&&a.viewType&&(b.pageCategory=a.pageType+'-'+a.viewType);if(!0===e.rum.spaTransition)b.navigationTiming.loadEventEnd=c;else if(e.rum.onLoadTime)b.navigationTiming.loadEventEnd= b.navigationTiming.navigationStart+(b.navigationTiming.loadEventEnd-b.navigationTiming.navigationStart)+(c-e.rum.onLoadTime);else return e.rum.spa=!1,Ja++,!1;e.rum.spaTransition=!1;1==l.hasResourceTiming()&&(qb=window.performance.getEntries().length);Ja++;a=k.publish({topic:'rum/beforeSend',async:!1,message:F.rum});0!=a.length&&!1===a[0]||l.sendData(F.rum,e.rum.beaconUrl);A.setExperienceMetric('cumulative_layout_shift',0);S={lcp:[],cls:[],fid:[],inp:[]};1==f.def(p.sequence)&&(p.configure({scan:['img', 'source','script']}),p.sequence.displayNow())}});k.subscribe({topic:'rum/send',callback:function(a,b){u();!0===e.sendRumOnUnload&&ua();a=k.publish({topic:'rum/beforeSend',async:!1,message:F.rum});0!=a.length&&!1===a[0]||l.sendData(F.rum,e.rum.beaconUrl)}});window.performance&&window.performance.clearResourceTimings&&(A.clearResourceTimings=window.performance.clearResourceTimings,window.performance.clearResourceTimings=function(){});Ia();var Z=document,$b=window;_loadCookieConfig=function(){var a= l.getCookie('yo-aftershock-config');if(null!=a&&0<a.length)try{a=eval(a),p.configure(a)}catch(b){}};_domready=function(){function a(a){b(a)}function b(a){('poll'===a||'readystatechange'===a.type)&&'complete'!==Z.readyState||d||(d=!0,e.afterShockLoaded=!0,k.publish({topic:'core/load',async:!0,message:p,persistent:!0}))}function c(){try{Z.documentElement.doScroll('left')}catch(n){ha(c,50);return}b('poll')}var d=!1,g=!0;if('complete'===Z.readyState)e.afterShockLoaded=!0,k.publish({topic:'core/load', async:!0,message:Yo,persistent:!0});else{if(Z.createEventObject&&Z.documentElement.doScroll){try{g=!$b.frameElement}catch(n){}g&&c()}l.addEvent(window,'load',a)}};k.subscribe({topic:'core/start',callback:function(){_loadCookieConfig();_domready()}});var f=l;String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.substr(b||0,a.length)===a});String.prototype.endsWith||(String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)});f.rewrite=function(a){var b= f.metaDataValue('resource.version'),c=f.metaDataValue('cdn.hostname'),d=f.metaDataValue('profile.id');return location.protocol+c+'/'+d+'/'+location.hostname+'/'+b+(0!=a.indexOf('/')?'/':'')+a};f.rewriteImageAPI=function(a){var b=f.metaDataValue('resource.version'),c=f.metaDataValue('cdn.hostname'),d=f.metaDataValue('profile.id'),g='o~',e=f.browser();e&&'chrome'===e.name?g+='f_webp':e&&'safari'===e.name&&13<=e.version&&(g+='f_jp2');1==a.startsWith('/')&&0==a.startsWith('//')&&(a=window.location.protocol+ '//'+window.location.hostname+a);return location.protocol+c+'/'+d+'/'+g+'/'+b+'/'+a};f.rewriteSrcSet=function(a,b){a=a.split(',');for(var c='',d=0;d<a.length;d++){var g=a[d].trim(),f=g.lastIndexOf(' '),e='';-1!=f&&(e=' '+g.substring(f).trim(),g=g.substring(0,f).trim());g=b(g,e);c+=g+e;d<a.length-1&&(c+=', ')}return c};f.select=function(a){var b;if(null==a||1==a.length)return null;if('document'==a)return document;if('window'==a)return window;if(f.def(a.nodeName))return a;if('.'==a[0])return a=document.getElementsByClassName(a.substring(1)), 0<a.length?a[0]:null;if(-1!=(b=a.indexOf('['))){var c=a.substring(0,b),d=a.substring(b+1),g=d.indexOf(']'),e=d.indexOf('[');d=d.substring(0,g);var v,h=[],k=null;if(-1!=(v=d.indexOf('~')))g=2;else if(-1!=(v=d.indexOf('*')))g=1;else if(-1!=(v=d.indexOf('=')))g=0;else return null;if(-1!=e){e=a.substring(b+1+e+1);b=e.indexOf(']');try{e=parseInt(e.substring(0,b))}catch(sc){}}var l=d.substring(0,v);v=d.substring(v+1);2==g&&(k=new RegExp(v));c=document.getElementsByTagName(c);for(b=0;b<c.length;b++){var m= 0<l.length?c[b].getAttribute(l):c[b].innerHTML;0==g&&m==v?h.push(c[b]):1==g&&null!=m&&-1!=m.indexOf(v)?h.push(c[b]):2==g&&null!=m&&-1!=m.search(k)&&h.push(c[b])}f.log(a,d,l,v,0==h.length?h.length:h[0]);return-1!=e?e<h.length?h[e]:null:h[0]}'#'==a[0]&&(a=a.substring(1));return document.getElementById(a)};f.writeHTML=function(a,b,c){var d=document.createElement('div');d.innerHTML='string'===typeof b?b:b.innerHTML;for(b=d.childNodes;0<b.length;)if('script'==b[0].nodeName.toLowerCase())if(b[0].src)p.sequence.script(d.removeChild(b[0]).src).load(); else try{eval(d.removeChild(b[0]).innerHTML)}catch(g){f.log(g)}else'insert'==c?a.parentNode.insertBefore(d.removeChild(b[0]),a):a.appendChild(d.removeChild(b[0]))};f.contains=document.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:document.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!1)}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1};f.updateHeadItemAttributes=function(a,b,c){0>a&&(document.cookie= 'yo-disable-instanton=true;Max-Age=2',window.location.reload(!0));a=document.documentElement.getElementsByTagName('head')[0].children[a];for(var d=0;d<b.length;d++)a.removeAttribute(b[d]);for(var g in c)a.setAttribute(g,c[g])};f.replaceHeadItemContent=function(a,b){0>a&&(document.cookie='yo-disable-instanton=true;Max-Age=2',window.location.reload(!0));document.documentElement.getElementsByTagName('head')[0].children[a].textContent=b};f.isIE=function(a){var b=navigator.userAgent;return b&&a&&11==parseInt(a)&& -1!=b.indexOf('rv:11')?!0:b&&a&&-1!=b.indexOf('MSIE '+a)?!0:b&&(-1!=b.indexOf('MSIE')||-1!=b.indexOf('rv:11'))};f.browser=function(){var a=navigator.userAgent,b=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(b[1])){var c=/\brv[ :]+(\d+)/g.exec(a)||[];return{name:'IE',version:c[1]||''}}if('Chrome'===b[1]&&(c=a.match(/\bOPR|Edge\/(\d+)/),null!=c))return{name:'Opera',version:c[1]};b=b[2]?[b[1],b[2]]:[navigator.appName,navigator.appVersion,'-?'];null!=(c= a.match(/version\/(\d+)/i))&&b.splice(1,1,c[1]);return{name:b[0].toLowerCase(),version:parseInt(b[1])}};f.inArray=function(a,b,c){if(b){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(b,a,c);var d=b.length;for(c=c?0>c?Math.max(0,d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1};f.elementToString=function(a){try{if(a instanceof HTMLElement){var b='<'+a.nodeName.toLowerCase();if(a.getAttribute){var c=a.getAttribute('name'),d=a.getAttribute('id'),g=a.getAttribute('class');null!= c&&0<c.length&&(b+=' name="'+c+'"');null!=d&&0<d.length&&(b+=' id="'+d+'"');null!=g&&0<g.length&&(b+=' class="'+g+'"')}return b+' />'}return a.toString?a.toString():'[Object]'}catch(n){}};var Ka=function(a){k.subscribe({topic:'sequence/beforeloading/'+this.key,callback:a,context:this});return this},La=function(a){k.subscribe({topic:'sequence/afterloaded/'+this.key,callback:a,context:this});return this},Y={},H={},E=function(a,b,c){this.id='yo_write_'+Math.floor(1E9*Math.random());this.writeContent= '';this.writeLocation=a;this.offScreenDom=null;this.delayed=c;this.domElement=b;this.scripts=[];f.log('creating WriteContext',this.id,this.domElement.src);E.prototype.getId=function(a){return this.id};E.prototype.collectDocumentWrite=function(a){this.writeContent+=a;f.log('write override',this.getId(),this.domElement.src,a)};E.prototype.addScript=function(a){this.scripts.push(a)};E.prototype.getWriteSelector=function(){return this.delayed.writeSelector};E.prototype.executeDeferredScripts=function(){for(var a= 0;a<this.scripts.length;a++){var b=this.scripts[a],c=b.getAttribute('src');f.def(b.yo_src)&&(c=b.yo_src);p.sequence.script(c).none().writeLocation(b.yo_writeSelector).load()}};E.prototype.finalizeWriteOverride=function(){null==this.writeLocation?f.log('write location is null, content ignored',this.getId(),this.domElement.src):0<this.writeContent.length?(f.log('creating off screen DOM',this.getId(),this.domElement.src),this.offScreenDom=Z.createElement('div'),this.offScreenDom.innerHTML=this.writeContent): f.log('no content, just continue',this.getId(),this.domElement.src);this.continueWrite()};E.prototype.initialize=function(){var a=H[this.delayed.writeSelector];f.undef(a)&&(a=H[this.delayed.writeSelector]=[]);a.push(this);Aa=function(){var b=Array.prototype.slice.call(arguments,0,-1).join('');0<a.length&&a[a.length-1].collectDocumentWrite(b)}};E.prototype.insertContent=function(){for(;0<this.offScreenDom.childNodes.length;){var a=this.offScreenDom.childNodes[0],b=a.nodeName.toLowerCase();if('script'== b){b=a.getAttribute('language');if(null==b||'vbscript'!=b.toLowerCase()){H[this.delayed.writeSelector].push(this);try{this.offScreenDom.removeChild(a)}catch(n){}p.sequence.script(a.getAttribute('src')).none().writeLocation(this.delayed.writeSelector).load();return!1}try{eval(a.innerHTML),this.offScreenDom.removeChild(a)}catch(n){}this.writeLocation.parentNode.insertBefore(a,this.writeLocation)}else if('link'==b&&'stylesheet'==a.getAttribute('rel').toLowerCase()){document.getElementsByTagName('head')[0].appendChild(a); try{this.offScreenDom.removeChild(a)}catch(n){}}else this.writeLocation.parentNode.insertBefore(a,this.writeLocation)}this.offScreenDom.innerHTML='';return!0};E.prototype.continueWrite=function(){for(var a=H[this.delayed.writeSelector],b=a.pop();b;){f.log('Continue writing ',b.getId());if(b.offScreenDom&&0==b.insertContent())break;0==a.length&&b.executeDeferredScripts();b=a.pop()}}};Y.safeWriteInsert=function(a,b,c,d,g){if(1==ea(a,b,c,d)){a:{try{1==f.def(a.yo_src)&&(1==f.isIE()?a.setAttribute('src', a.yo_src):a.src=a.yo_src);a.yo_processed=!0;var e=1==g||c.contains&&0==c.contains(b)?c.yo_ac(a):c.yo_ib(a,b);break a}catch(v){f.log('ERROR adding domElement into dom',a,v)}e=void 0}return e}};Y.safeWriteEval=function(a,b,c,d,g){b=a;if(e.sequenceWrites&&f.def(d.writeLocation)){for(var n in H)0<H[n].length&&d.writeSelector!=H[n][0].getWriteSelector()&&f.def(d.writeSelector)&&(d.yo_writeSelector=d.writeSelector);f.def(d.writeSelector)&&f.def(d.writeSelector.nodeName)&&(d.writeSelector.id?d.writeSelector= '#'+d.writeSelector.id:(n='yo_write_'+Math.floor(1E9*Math.random()),d.writeSelector.setAttribute('id',n),d.writeSelector='#'+n));n=f.select(d.writeSelector);null!=n&&(n=new E(n,{src:b},d),n.initialize(),d.write_context=n)}try{a=a.replace('<script>','').replace('\<scri'+'ipt>',''),'gpt'==g&&(a='googletag.cmd.push(function() { googletag.pubads().enableSyncRendering = function(){}; '+a+'});'),window.eval(a),e.sequenceWrites&&d.write_context.finalizeWriteOverride()}catch(v){f.log('Error eval',v)}};e.delayed= [];e.targets=[];var J=function(){this.executed=!1;this.cont=!0};J.prototype.afterLoaded=La;J.prototype.beforeLoading=Ka;J.prototype.execute=function(){return this.afterShock()};J.prototype.clone=function(){var a=new J,b;for(b in this)a[b]=this[b];return a};J.prototype.preventDefault=function(){this.cont=!1};J.prototype.key=null;J.prototype.isConfig=function(a){return this.delayType==a};J.prototype.afterShock=function(){var a=null;if(1!=this.loaded&&(this.delayType='none',this.loaded=!0,f.log('Injecting ', this.newNode,', by ',this.type,' into the DOM now.'),'attributesrc'!=this.type&&k.publish({topic:'sequence/beforeloading/'+this.key,message:this}),0!=this.cont)){var b=this.newNode,c=this.type,d=this.before;if('insert'==c)a=Y.safeWriteInsert(b,d,this.me,this,!1);else if('append'==c)a=Y.safeWriteInsert(b,null,this.me,this,!0);else if('replace'==c)this.me.replaceChild(b,d),k.publish({topic:'sequence/afterloaded/'+this.key,message:this});else if('attributesrc'==c)d.setAttribute('src',b.yo_src);else if('src'== c)f.def(this.animator)&&null!=this.animator?animator(d,this.animator):f.def(e.animator)&&animator(d,e.animator),b=d.getAttribute(e.pre+'srcset'),null!=b&&d.setAttribute('srcset',b),d.src=this.srcAttr;else if('style'==c)b.setAttribute('style',b.getAttribute(e.pre+'style'));else if('inner'==c)f.log(this.how+' -> '+b),'replace'==this.how?Nb(d,b):'eval'==this.how||'gpt'==this.how?a=Y.safeWriteEval(b,d,this.me,this,this.how):f.writeHTML(d,b,this.how),k.publish({persistent:!0,topic:'sequence/afterloaded/'+ this.key,message:this});else if('function'==c)f.log(this.how+' -> '+b),d=this.func.apply(this.funcThis,this.funcParameters),k.publish({topic:'sequence/afterloaded/'+this.key,message:{delayed:this,retVal:d}});else if('xhr'==c){this.xhr.onreadystatechange&&(this.xhr.original_oonreadystatechange=this.xhr.onreadystatechange);var g=this;this.xhr.onreadystatechange=function(a){4==g.xhr.readyState&&k.publish({topic:'sequence/afterloaded/'+g.key,message:[a,this]});g.xhr.original_oonreadystatechange&&g.xhr.original_oonreadystatechange.apply(this)}; this.xhr.xhr_send.apply(this.xhr,this.xhr._yo.send_args)}else'image'==c&&this.loadImage(this);Pb();return a}};_delayed=function(){return J};var aa=function(a){var b=new (_delayed());'string'===typeof a&&0==a.indexOf('/')&&a.lastIndexOf('/')==a.length-1&&(a=new RegExp(a));b.key=b.url=a;b.match=!0;f.undef(e.resources)&&(e.resources=[]);for(var c=-1,d=0;d<e.resources.length;d++){var g=e.resources[d].url;if('string'===typeof a&&'string'===typeof g&&-1!=a.indexOf(g)||'string'!==typeof g&&'function'!== typeof g&&'string'===typeof a&&null!=a.match(g)){c=d;break}}b.writeLocation=function(a){this.writeSelector=a;return this};-1==c?e.resources.push(b):e.resources.splice(c,0,b);return b},Aa=null,Ba=!1;k.subscribe({topic:'core/configure',callback:function(){$a(document)}});var Q={},ac=function(a,b,c,d,g){this._yo={open_args:arguments,async:!1===c?!1:!0};f.log('xhr open = '+b+', async '+c);k.publish({topic:'sequence/captured',message:this._yo});return this.xhr_open.apply(this,arguments)},bc=function(a){if(f.undef(this._yo)|| !0!==this._yo.async)return this.xhr_send.apply(this,arguments);var b=this,c={src:this._yo.open_args[1],nodeName:'xhr'};if(0==Ca(c,c,function(a,c){a=a.clone();a.type='xhr';a.xhr=b;a.src=c.src;a.newNode=c;e.delayed.push(a);1==e.afterShockLoaded&&a.execute()}))return f.log('xhr send is NOT defered, '+c.src),this.xhr_send.apply(this,arguments);this._yo.send_args=arguments;f.log('xhr send is defered, '+c.src+', '+e.delayed[e.delayed.length-1].delayType);return this},cc=function(){if(f.undef(this._yo)|| f.undef(this._yo.send_args)||!0!==this._yo.async)return this.xhr_abort.apply(this,arguments);f.log('Abort to the xhr object is called',' async true')};Q.create=function(a){1!=e.sequenceXHR&&p.configure({sequenceXHR:!0});a=aa(a);a.xhr=!0;a.rewrite=function(a){this.afterLoaded(function(b){f.log('Begging to rewrite data for ajax call.');try{if(!(2>b.length)){var c=b[1],g=c.responseText;g=a.call(this,g);Object.defineProperty&&(Object.defineProperty(c,'responseText',{get:function(){return g}}),Object.defineProperty(c, 'response',{get:function(){return g}}))}}catch(n){f.log('Error in rewrite handling',n)}})};return a};Q.captureMethods=function(a){1==f.undef(a.XMLHttpRequest.prototype.xhr_open)&&(a.XMLHttpRequest.prototype.xhr_open=a.XMLHttpRequest.prototype.open,a.XMLHttpRequest.prototype.xhr_send=a.XMLHttpRequest.prototype.send,a.XMLHttpRequest.prototype.xhr_abort=a.XMLHttpRequest.prototype.abort)};Q.overrideMethods=function(a){a.XMLHttpRequest.prototype.open=ac;a.XMLHttpRequest.prototype.send=bc;a.XMLHttpRequest.prototype.abort= cc};Q.captureMethods(window);k.subscribe({topic:'core/configure',callback:function(){1==e.sequenceXHR&&1==f.def(XMLHttpRequest)&&Q.overrideMethods(window)}});_findTags=function(a,b){var c=document.getElementsByTagName(a);f.log('Find all '+a+' tags in the document.');for(var d=0,g=c.length;d<g;d+=1){var n=c[d];if(!0===b){var v=n.getAttribute(e.pre+'delayType');null==v||'defer'!=v&&'lazy'!=v||(n.setAttribute(e.pre+'delayType','none'),n.setAttribute(e.pre+'delayValue',''));v=n.getAttribute('type');null!= v&&(-1<v.indexOf('yo/sequence/defer')||-1<v.indexOf('yo/sequence/lazy'))&&n.setAttribute('type','yo/sequence/none/')}if('true'!==n.getAttribute(e.pre+'loaded')){v=_srcAttr(n);var h=n.getAttribute(e.pre+'style');v?(f.log('Found src ',a,', src = '+v+' tag to handle with AfterShocK.'),p.sequence.content(n).load()):'script'==a?(v=n.getAttribute('type'),n.getAttribute(e.pre+'src'),v&&-1<v.indexOf('yo/sequence')?(f.log('Found a '+a+', yo/sequence tag to handle with AfterShocK.'),p.sequence.content(n).load()): 'yo/abtest'==v&&_abTestScript(n)):h&&(f.log('Found style ',a,', src = '+v+' tag to handle with AfterShocK.'),n=p.sequence.content(n),n.type='style',n.before=n.newNode,n.load())}}};_srcAttr=function(a){for(var b=0;b<e.srcAttrs.length;b++){var c=a.getAttribute(e.srcAttrs[b]);if(null!=c)return c}return(c=a.getAttribute('src'))&&'data:image/cloaked;plain,'==c.slice(0,25)?c.substring(25):null};_needsEval=function(a){var b=a.getAttribute('type');return'SCRIPT'==a.nodeName.toUpperCase()&&null==a.getAttribute('src')&& null!=b&&0<=b.indexOf('chain')};_loadFromDOM=function(a){a='string'===typeof a?f.select(a):a;var b=content=f.select(a.getAttribute(e.pre+'location')),c=a.getAttribute(e.pre+'how'),d=new (_delayed()),g=a.nodeName.toLowerCase(),n=a;'eval'==c||'gpt'==c?(content=a.innerHTML,d=p.sequence.script(content)):1==_needsEval(a)?(content=a.innerHTML,c='eval',d=p.sequence.script(content)):null==c&&(c='replace');var h=a.getAttribute(e.pre+'key');null!=h&&(d.key=h);var k=a.getAttribute(e.pre+'delayType'),l=a.getAttribute(e.pre+ 'delayValue'),m=_srcAttr(a),q=m&&0<m.length?'src':'inner',r=a.getAttribute(e.pre+'animator'),u=a.getAttribute(e.pre+'onbefore');null!=u&&f.isFunction(window[u])&&d.beforeLoading(window[u]);var t=a.getAttribute(e.pre+'onLoad');null!=t&&f.isFunction(window[t])&&d.afterLoaded(window[t]);null==content&&(content=a,c='insert');a.setAttribute(e.pre+'loaded','true');if(-1===f.inArray(a,e.targets)){d.animator=r;if('img'==g||'source'==g||'picture'==g)null==k&&(k='lazy'),null==b&&(b=a);else if('script'==g){g= a.getAttribute('type');null!=g&&(g=g.split('/'),2<g.length&&(k=g[2],l=g[3]));g=a.getAttribute(e.pre+'writeLocation');d.writeSelector=g||a;r=m;null==r&&'chain'==k&&(r=a.getAttribute('src'));if(null!=r){null==k&&(k='none');b={};for(c=0;c<e.scriptAttrs.length;c++)d=e.scriptAttrs[c],b[d]=a.getAttribute(d);d=p.sequence.script(r,b)[k](l);null!=h&&(d.key=h);null!=u&&f.isFunction(window[u])&&d.beforeLoading(window[u]);null!=t&&f.isFunction(window[t])&&d.afterLoaded(window[t]);d.writeLocation(g||a);d.src= r;d.me=a;d.load();return d}null==b&&(b=a)}null==k&&(k='none');1==f.contains(document.documentElement,a)&&a.setAttribute(e.pre+'loaded','true');d[k](l);d.before=b;d.me=n;d.type=q;d.srcAttr=m;d.how=c;d.match=!1;d.newNode='eval'==c||'gpt'==c?content:a;d.key||(d.key=d.srcAttr);return d}};k.subscribe({topic:'core/load',callback:function(){p.sequence.scanTags(!1)}});var Ma={},fa={},dc=function(a,b){var c='on'+b.toLowerCase();if(!f.def(fa[c])&&(fa[c]={object:a,name:b,event:null},f.addEvent(a,b,function(c){var d= fa['on'+b.toLowerCase()];d.event=c;navigator.userAgent.match(/MSIE /)&&(d.event={type:c.type});!a.yo_addEventListener&&a.addEventListener&&(a.yo_addEventListener=a.addEventListener,a.addEventListener=ab(!0));!a.yo_attachEvent&&a.attachEvent&&(a.yo_attachEvent=a.attachEvent,a.attachEvent=ab(!1))}),Object.defineProperty&&'load'==b))try{Object.defineProperty(window,'onload',{set:function(a){try{a.call(window,fa.onload.event)}catch(g){f.log('Overridden onload threw an exception',g)}}})}catch(d){f.log('onload property event handler threw exception', d)}};_clearEvents=function(a){1==f.def(a.yo_addEventListener)&&(a.addEventListener=a.yo_addEventListener,delete a.yo_addEventListener);1==f.def(a.yo_attachEvent)&&(a.attachEvent=a.yo_attachEvent,delete a.yo_attachEvent)};Ma.loadEvents=function(a){1==f.undef(a)&&(a=[{eventName:'load',eventObject:window},{eventName:'DOMContentLoaded',eventObject:document}]);for(var b=0;b<a.length;b++)dc(a[b].eventObject,a[b].eventName)};Ma.clearEvents=function(){for(var a=[window,document],b=0;b<a.length;b++)_clearEvents(a[b])}; var qa=null,rb=function(a){a.tempImage=new qa;var b=a.image.onload;a.image.onload=null;a.tempImage.onload=function(c){b&&b.call(a.image,c);k.publish({topic:'sequence/afterloaded/'+a.key,message:arguments})};var c=a.image.onerror;a.image.onerror=null;a.tempImage.onerror=function(b){c&&c.call(a.image,b);k.publish({topic:'sequence/afterloaded/'+a.key,message:arguments})};k.publish({topic:'sequence/beforeloading/'+a.key,message:arguments});a.tempImage.src=a.src;a.image.setAttribute('src',a.src)},ec=function(){null== qa&&(qa=Image,Image=function(){var a=new qa;try{Object.defineProperty(a,'src',{set:function(b){this.yo_src=b;Yo.utils.log('Overloaded image src being set',b);b={src:b,key:b.toLowerCase()};k.publish({topic:'sequence/captured',message:b});var c={src:b.src,key:b.key,nodeName:'image'};nodeConfig=ia(c);var d=nodeConfig.clone();d.type='image';d.src=c.src;d.image=this;d.newNode=c;e.delayed.push(d);d.loadImage=rb;1==e.afterShockLoaded&&d.execute();b.image=a;'none'==nodeConfig.delayType&&rb(b)},get:function(){return this.yo_src? this.yo_src:''}})}catch(b){f.log(b)}return a})};k.subscribe({topic:'core/configure',callback:function(){1==e.sequenceImage&&ec()}});k.subscribe({topic:'core/load',callback:function(){}});_delayed().prototype.defer=function(a){this.orgDelayType=this.delayType='defer';this.delayValue=a;if(1==f.isIE()&&0==e.optimizeIE)return f.log('Override defer on IE',this.url),this.none();this.execute=function(){if(0!=e.afterShockLoaded&&1!=this.executed){this.executed=!0;f.log('Loading ',this.newNode,' via timer event. It will load in ', this.delayValue);var a=this;ha(function(){a.afterShock()},1*this.delayValue);return this}};return this};_delayed().prototype.event=function(a){this.orgDelayType=this.delayType='event';this.delayValue=a;this.execute=function(){if(0!=e.afterShockLoaded&&1!=this.executed){this.executed=!0;f.log('Event handling '+(this.before?this.before.src:'no object')+' '+this.delayValue);var a=this.delayValue.split(' '),c=a[0].toLowerCase(),d=this;if('beforeloading'==c||'afterloaded'==c){a=a[1];if('#adjacent'==a)return this.defer(0); k.subscribe({topic:'sequence/'+c+'/'+a,context:this,callback:function(a){f.log('Loading '+(this.before?this.before.src:'no object')+' via event handler '+this.delayValue);d.afterShock()}})}else'pubsub'==c?(a=a[1],k.subscribe({topic:a,context:this,callback:function(a){f.log('Loading '+(this.before?this.before.src:'no object')+' via pubsub handler '+this.delayValue);d.afterShock()}})):va(f.select(a[1]),a,this);return this}};return this};k.subscribe({topic:'core/load',callback:function(){}});var U={}, R={top:0-e.offset,left:0-e.offset,height:0,width:0,right:0,bottom:0},sb=function(a){a=a.getBoundingClientRect();f.undef(a.width)&&(a={top:a.top,left:a.left,right:a.right,bottom:a.bottom,width:a.right-a.left,height:a.bottom-a.top});return a},tb,ub;document.defaultView&&document.defaultView.getComputedStyle&&(tb=function(a,b){var c;if(c=a.ownerDocument.defaultView){if(c=c.getComputedStyle(a,null)){var d=c.getPropertyValue(b);''!==d||f.contains(a.ownerDocument.documentElement,a)||(d=a.style[b])}return d}}); document.documentElement.currentStyle&&(ub=function(a,b){a=a.currentStyle&&a.currentStyle[b];return''===a?'auto':a});var Na=tb||ub;document.getElementsByClassName||(document.getElementsByClassName=function(a){return this.querySelectorAll('.'+a)});U.scrollHandler=function(a){R.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;R.bottom=R.height;R.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;R.right=R.width;if(f.undef(document.documentElement.getBoundingClientRect))return!0; for(var b=a=0;b<e.delayed.length;b++)if(e.delayed[b].isConfig('lazy')){var c=b,d=e.delayed[c],g=d.delayValue;if('string'===typeof g)g=f.select(g);else if(null==g||f.def(g))g=d.before;if(null!=g&&(g&&'SOURCE'==g.nodeName&&(g=g.parentNode),1==f.contains(document.documentElement,g))){var n=sb(g);if(0==(null!=e.intervalID&&f.def(g.getBoundingClientRect))&&n.top<R.height+e.offset)f.log('showIfVisible is visible ',c,', ',g),e.delayed[c].afterShock();else{if(d=1==(null!=e.intervalID&&f.def(g.getBoundingClientRect)))if(d= (!e.lazyCheckSize||0<n.width&&0<n.height)&&1==cb(n,R)){b:{d=g;for(var h=d.parentNode;null!=h&&1==h.nodeType;){var k=Na(h,'overflow');if(k&&'hidden'==k.toLowerCase())d.yo_clipped=h;else if(0==Na(h,'opacity')||'none'==Na(h,'display')){d=!1;break b}h=h.parentNode}1==f.undef(d.yo_clipped)&&(d.yo_clipped=!1);d=0!=d.yo_clipped?cb(n,sb(d.yo_clipped)):!0}d=1==d}d&&(f.log('showIfVisible is visible ',c,', ',g),e.delayed[c].afterShock())}}a++}};U.delayed=function(a){this.orgDelayType=this.delayType='lazy';this.delayValue= a;this.execute=function(a){return this};return this};var vb=function(a,b){var c=0;return function(){var d=+new Date;d-c<b||(c=d,a.apply(this,arguments))}}(U.scrollHandler,20);f.addEvent(window,'scroll',vb);f.addEvent(window,'resize',vb);k.subscribe({topic:'core/load',callback:function(){U.scrollHandler()}});_delayed().prototype.lazy=U.delayed;k.subscribe({topic:'core/configure',callback:function(a){0<a.lazyTimer&&null==e.intervalID&&(e.intervalID=mb(U.scrollHandler,a.lazyTimer))}});_delayed().prototype.none= function(){this.orgDelayType=this.delayType='none';this.execute=function(){return this.afterShock()};return this};_delayed().prototype.remove=function(a,b,c){var d=!1,g='yostore'+f.metaDataValue('resource.version')+this.key;f.undef(a)||'always'==a?d=!0:'session'==a?sessionStorage&&'true'==sessionStorage.getItem(g)?d=!0:sessionStorage&&sessionStorage.setItem(g,'true'):'visitor'==a&&(localStorage&&'true'==localStorage.getItem(g)?d=!0:localStorage&&localStorage.setItem(g,'true'));if(1==d)this.orgDelayType= this.delayType='remove',this.execute=function(){return this};else this[b](c);return this};var I=null,fc=function(a,b){var c=f.select(b);I=new MutationObserver(function(c){for(var d=!1,e=0;e<c.length;e++){var h=c[e];if('attributes'==h.type&&'observe.attributes'==a.delayType||'observe.all'==a.delayType)if(f.log('The '+h.attributeName+' attribute was modified for ',b),'all'==a.delayValue){d=!0;break}else{if(h.attributeName==a.delayValue){d=!0;break}}else if('childList'==h.type&&'observe.children'==a.delayType|| 'observe.all'==a.delayType)if(f.log('A child node has been added or removed for',b),'all'==a.delayValue){d=!0;break}else if(0<h.addedNodes.length&&'added'==a.delayValue){d=!0;break}else if(0<h.removedNodes.length&&'removed'==a.delayValue){d=!0;break}}1==d&&(a.afterShock(),I.disconnect())});I.observe(c,{attributes:!0,childList:!0})};_delayed().prototype.observe=function(a,b,c){this.orgDelayType=this.delayType='observe.'+b;this.delayValue=c?c:'all';if('undefined'===typeof MutationObserver)return f.log('Override defer on IE', this.url),this.none();this.execute=function(){if(0!=e.afterShockLoaded&&1!=this.executed)return this.executed=!0,f.log('Loading ',this.newNode,' via observer. It will loaded when ',a,'changes',b),fc(this,a),this};return this};_delayed().prototype.firstInput=function(a,b){return this.webvitals('first-input',a,b)};_delayed().prototype.largestContentfulPaint=function(a,b){return this.webvitals('largest-contentful-paint',a,b)};_delayed().prototype.timeToInteractive=function(a,b){return this.webvitals('time-to-interactive', a,b)};var gc=function(){var a=f.calculateTti();0<a&&(clearInterval(e.ttiWatcherIntervalID),k.publish({topic:'web-vitals/time-to-interactive',persistent:!0,message:{time:a}}))};_delayed().prototype.webvitals=function(a,b,c){this.delayType=this.orgDelayType=a;this.delayValue=a+'-'+b;0==f.hasWebVitals()?(f.log('webvitals fallback for ',this.url),this.defer(b?b:1E3)):this.execute=function(){var a=this;this.executed=!0;k.subscribe({topic:'web-vitals/'+this.orgDelayType,callback:function(d,f){f=!0;c&&(f= c(d));f&&(e.afterShockLoaded?a.afterShock():a.defer(b?b:0))}});'time-to-interactive'==this.orgDelayType&&(0<e.ttiWatcherInterval&&null==e.ttiWatcherIntervalID&&(e.ttiWatcherIntervalID=mb(gc,e.ttiWatcherInterval)),a.defer(b?b:1E3));0==f.hasWebVitals()&&(f.log('webvitals fallback for ',this.url),a.defer(b?b:1E3))};return this};_delayed().prototype.spa=function(a){if(a)return this[a]();var b=this;this.event('pubsub rum/spa/rendered');k.subscribe({topic:'rum/spa/transition/start',callback:function(a, d){b.event('pubsub rum/spa/rendered')}});k.subscribe({topic:'rum/spa/rendered',callback:function(a,d){b.none()}})};_delayed().prototype.startTransition=function(a){this.orgDelayType=this.delayType='startTransition';this.delayValue=a;this.execute=function(){var a=this;this.executed=!0;k.subscribe({topic:'rum/spa/transition/start',callback:function(b,d){(f.undef(a.delayValue)||0<=(b.pageType+'-'+b.viewType).indexOf(a.delayValue))&&a.afterShock()}});return this};return this};_delayed().prototype.finishedRendering= function(a){this.orgDelayType=this.delayType='finishedRendering';this.delayValue=a;this.execute=function(){var a=this;this.executed=!0;k.subscribe({topic:'rum/spa/rendered',callback:function(b,d){(f.undef(a.delayValue)||0<=(b.pageType+'-'+b.viewType).indexOf(a.delayValue))&&a.afterShock()}});return this};return this};var wb=!1,xb=!1,K=function(){0==xb&&(k.publish({topic:'sequencing/user/first',async:!0,persistent:!0,message:{}}),f.removeEvent(document,'mousemove',K),f.removeEvent(document,'scroll', K),f.removeEvent(document,'keydown',K),f.removeEvent(document,'click',K),f.removeEvent(document,'touchstart',K),xb=!0)};_delayed().prototype.firstInteraction=function(a,b){this.orgDelayType=this.delayType='firstInteraction';0==wb&&(wb=!0,f.addEvent(document,'mousemove',K),f.addEvent(document,'scroll',K),f.addEvent(document,'keydown',K),f.addEvent(document,'click',K),f.addEvent(document,'touchstart',K));this.execute=function(){var c=this;this.executed=!0;k.subscribe({topic:'sequencing/user/first', callback:function(d,g){1!=a||e.afterShockLoaded?c.afterShock():c.defer(b?b:0)}})};return this};var yb={};e.chaining={};_lastChainedResource=function(a,b){var c=yb[a];if(1==f.undef(c))return yb[a]=[b],null;c.push(b);return c[c.length-2]};k.subscribe({topic:'core/load',callback:function(){}});_delayed().prototype.chain=function(a){this.orgDelayType=this.delayType='chain';this.delayValue=a;if(1!=f.undef(this.before)){if(1==f.isIE()&&0==e.optimizeIE)return f.log('Override defer on IE',this.url),this.none(); var b=_lastChainedResource(a,this);this.chainIndex=null==b?0:b.chainIndex+1;this.key='chained-resource-'+a+'-'+this.chainIndex;this.beforeLoading(function(a){1==f.undef(a.writeSelector)&&(a.writeSelector=a.domElement||a.me);1==f.def(a.writeSelector)&&(a.writeSelector.id&&''!=a.writeSelector.id?a.writeSelector='#'+a.writeSelector.id:a.writeSelector.setAttribute&&(a.writeSelector.setAttribute('id',a.key),a.writeSelector='#'+a.key),0==e.sequenceWrites&&(e.sequenceWrites=!0,p.sequence.document(document)))}); if(null==b){var c=e.chaining[a];1==f.def(c)?c(this):this.defer(10)}else this.execute=function(){this.key='chained-resource-'+a+'-'+this.chainIndex;this.before&&this.before.src&&(this.key+='/'+this.before.src);this.executed=!0;var c=this;k.subscribe({topic:'sequence/afterloaded/'+b.key,context:this,callback:function(a){f.log('Loading chained resource',c);c.afterShock()}})};return this}};var ka={},V=null;_isImageLike=function(a){return-1!='imgpicturesourceiframe'.indexOf(a)};var hc=function(a,b){for(var c= e.scan.length,d=0;d<c;d++)if(e.scan[d]===b){var g=a.getAttribute('src'),f={domElement:a,src:''!=a.src?g:a.textContent,nodeName:'dom'};Ca(f,f,function(c,d){c=c.clone();c.type='dom';c.src=g;c.newNode=d;e.delayed.push(c);'script'==b&&(a.type='yo/sequence/'+c.delayType+'/'+c.delayValue,''!=a.src?(a.setAttribute('data-yo-src',a.src),a.src=''):a.setAttribute('data-yo-how','eval'))})}},zb=function(a){'none'===a&&null!==V?(V.disconnect(),V=null):'none'!==a&&'undefined'!==typeof MutationObserver&&null==V&& (V=new MutationObserver(function(a){for(var b=0;b<a.length;b++)for(var d=a[b].addedNodes,g=0;g<d.length;g++){var f=d[g];if(f.nodeType===Node.ELEMENT_NODE){var h=f.nodeName.toLowerCase();'body'===h?(z.node(f),'top'===e.scrapeLevel&&V.disconnect()):'sequencing'!==e.scrapeLevel||null!=f.type&&-1!=f.type.indexOf('yo/sequence')||hc(f,h)}}}),V.observe(document,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))};zb(e.scrapeLevel);k.subscribe({topic:'core/configure',callback:function(a,b){Da();zb(a.scrapeLevel)}}); ka.createElement=function(a){a.yo_createElement||(a.yo_createElement=a.createElement,a.createElement=function(b){var c=a.yo_createElement(b),d=b.toLowerCase();f.log('_sequencing.createElement',c,b);if(('iframe'==d||'script'==d)&&1==f.undef(c.yo_src_override)){c.yo_src_override=!0;try{Object.defineProperty(c,'src',{set:function(a){if(this.yo_src=a)if(f.log('Object.src',a),nodeConfig=ia(this),null!=nodeConfig&&'none'!=nodeConfig.delayType){if(a=nodeConfig.clone(),a.type='attributesrc',a.newNode=this, a.before=this,a.me=this,e.delayed.push(a),domCompleteTriggered)return a.execute()}else this.setAttribute('src',a)},get:function(){return this.yo_src?this.yo_src:''}})}catch(g){f.log(g)}}return c})};ka.create=function(a){a=aa(a);'sequencing'!=e.scrapeLevel&&p.configure({scrapeLevel:'sequencing'});a.dom=!0;return a};1==f.isIE()&&1==e.optimizeIE&&ka.createElement(document);var z={};domCompleteTriggered=!1;z.node=function(a){if(a=f.select(a))a.yo_ac=f.def(a.yo_ac)?a.yo_ac:a.appendChild,a.yo_ib=f.def(a.yo_ib)? a.yo_ib:a.insertBefore,a.appendChild=Tb,a.insertBefore=Sb};z.clearNode=function(a){f.def(a.yo_ib)&&(a.insertBefore=a.yo_ib);f.def(a.yo_ac)&&(a.appendChild=a.yo_ac)};z.addScanner=function(a){e.scan||(e.scan=[]);-1===f.inArray(a,e.scan)&&e.scan.push(a)};z.displayNow=function(a){!0===a&&'active'==p.rum.get().optState&&(a=!1);f.log('Handle the display of all visible tags up to now.');z.scanTags(!0,a);U.scrollHandler({})};z.createTimer=function(a,b){Yo.configure({lazyTimer:a});b&&Yo.configure({lazyCheckSize:b})}; z.resource=aa;z.script=function(a,b,c){var d=aa(a);1==f.isFunction(a)?(d.src='[object Function]'+a.name,d.key=c||'[object Function]'+a.name,d.func=a):(d.src=a,d.newNode=a,1==f.def(c)&&(d.key=c));1==f.undef(b)&&(b={});d.before={src:a,attributes:b};d.load=function(a){var c=document.createElement('script');c.type='text/javascript';b.async=!0;for(var d in b)null!=b[d]&&c.setAttribute(d,b[d]);c.yo_src=this.url;(a||document.getElementsByTagName('script')[0].parentNode).appendChild(c);return this};d.eval= function(){e.delayed.push(this);this.how='eval';this.type='inner';this.execute();return this};d.apply=function(a,b){e.delayed.push(this);this.how='apply';this.type='function';this.funcThis=a;this.funcParameters=b;this.execute();return this};d.writeLocation=function(a){this.writeSelector=a;return this};return d};z.xhr=Q.create;z.content=function(a){var b=_loadFromDOM(a);k.publish({topic:'sequence/captured',message:{delayed:b,location:a}});b.load=function(){f.log('Sequence a script = ',a,', type '+ this.type);null==this.delayType||'none'==this.delayType?f.log('Content found that needs to be loaded immediately'):f.log('Content found that needs to be sequenced',this.delayType,this.delayValue);this.execute(e.delayed.length-1);e.delayed.push(this)};return b};z.event=Ma;z.image=function(a){return aa(a)};z.dom=ka.create;z.createElement=ka.createElement;z.scanTags=function(a,b){if(e.scan){for(var c=0,d=e.scan.length;c<d;c++)_findTags(e.scan[c],b);!0!==a&&(e.scan=[])}};z.cloakImages=function(a,b){if(1!= f.undef(window.btoa))for(var c=0,d=a.length;c<d;c+=1){var g=a[c],e=document.getElementsByTagName(g);f.log('Cloak '+g);for(var h=0,k=e.length;h<k;h+=1)for(var l=e[h],m=0,p=b.length;m<p;m+=1){var q=b[m],r=l.getAttribute(q);null!=r&&(f.log('Cloak '+g,q,r),l.setAttribute(q,'data:image/cloaked;base64,'+btoa(r)))}}};z.document=$a;z.captureMethods=Q.captureMethods;z.overrideMethods=Q.overrideMethods;var Ab=document.getElementsByTagName('script');0<Ab.length&&z.node(Ab[0].parentNode);z.node(document.getElementsByTagName('head')[0]); f.addEvent(document,'readystatechange',function(a){'interactive'===document.readyState&&(f.log('readystatechange is document.interactive, calling displayNow'),'unknown'!==p.rum.get().optState&&z.displayNow(!0))});k.subscribe({topic:'core/start',callback:function(){Da()}});k.subscribe({topic:'core/configure',callback:function(a,b){Da()}});k.subscribe({topic:'core/load',callback:function(){domCompleteTriggered=!0;for(var a=0;a<e.delayed.length;a++)e.delayed[a].execute()}});var M={},ba={};_abTest=function(a, b,c,d,g,e,h,k){return Yo.sequence.resource(d).none().beforeLoading(function(){f.log('adding the google segmentation using a custom (dimension'+a+', '+b+', '+c+')',g,e);Yo.stats().errors.has&&(c+='_error');if('universal'==g){var d=!1;window.ga=function(){if(f.def(a)&&2<arguments.length&&0<=arguments[0].indexOf('set')&&arguments[1]!='dimension'+a){if((window.ga.q=window.ga.q||[]).push(arguments),ga(arguments[0],'dimension'+a,c),d=!0,1==f.def(h)){for(var b=[],g=0;g<window.ga.q.length;g++)if(3!=window.ga.q[g].length|| window.ga.q[g][1]!='dimension'+h)b[b.length]=window.ga.q[g];window.ga.q=b}}else(window.ga.q=window.ga.q||[]).push(arguments),1==f.undef(h)&&0==d&&((window.ga.q=window.ga.q||[]).push(['set','dimension'+a,c]),d=!0);_abTestAnalyticsUniversal(arguments)}}else if(f.def(_gaq)){for(var n=1,v=[],l=0;l<_gaq.length;l++)f.def(_gaq[l])&&2<_gaq[l].length&&-1!=_gaq[l][0].indexOf('_setCustomVar')?(1!=f.undef(a)&&_gaq[l][1]==a||1!=f.undef(h)&&_gaq[l][1]==h||(v[v.length]=_gaq[l]),n=l):v[v.length]=_gaq[l];_gaq=v;f.def(a)&& (v='_setCustomVar',0<_gaq.length&&0<_gaq[0].length&&(l=_gaq[0][0].indexOf('.'),-1!=l&&(v=_gaq[0][0].substring(0,l+1)+v)),f.def(k)&&(a=k),_gaq.splice(n,0,[v,a,b,c,f.undef(e)?2:e]));f.log('abTestAnalyticsClassic()');_abTestAnalyticsClassic()}else f.log('Error creating ga information, no selected version',g)})};_getCookieVariant=function(a){return l.getCookie('yo_abtesting_'+a.name+'v'+a.version)};_setCookieVariant=function(a,b,c){f.setCookie('yo_abtesting_'+a.name+'v'+a.version,b,c)};_configureAbTestAnalytics= function(){var a=config.abTestingAnalytics;f.def(a)&&f.undef(a.loaded)&&(_abTest(void 0,void 0,void 0,a.url,a.gaVersion),f.log('Registering analytics',a.url,a.gaVersion),a.loaded=!0)};_executeAllAbTest=function(){f.undef(e.abTestingAnalytics)?f.log('Analytics for ab testing not properly defined'):'classic'==e.abTestingAnalytics.gaVersion?_executeAllAbTestClassic():_executeAllAbTestUniversal()};_executeAllAbTestUniversal=function(){for(var a in e.abTesting){var b=e.abTesting[a];_executeAbTest(b);ga('set', 'dimension'+b.analytics.index,b.valuePrefix+b.name+'_v'+b.version+'_'+b.chosenVariant)}1==M.delayedTrack&&ga('send','pageview')};_executeAllAbTestClassic=function(){var a=null;if(f.def(window._gat)&&f.def(M.uaCode))for(var b=window._gat._getTrackers(),c=0;c<b.length;c++)b[c]._getAccount()==M.uaCode&&(a=b[c]);for(var d in e.abTesting)b=e.abTesting[d],_executeAbTest(b),c=2,'hit'==b.analytics.stickiness?c=3:'visitor'==b.analytics.stickiness&&(c=1),null!=a?a._setCustomVar(b.analytics.index,b.analytics.name, b.valuePrefix+b.name+'_v'+b.version+'_'+b.chosenVariant,c):f.def(window._gaq)&&window._gaq.push(['_setCustomVar',b.analytics.index,b.analytics.name,b.valuePrefix+b.name+'_v'+b.version+'_'+b.chosenVariant,c]);1==M.delayedTrack&&(null!=a?(a._trackPageview(),f.log('pageTracker._trackPageview()')):f.def(window._gaq)?(window._gaq.push(['_trackPageview']),f.log("window._gaq.push(['_trackPageview'])")):f.log('Did not find the UA code so we can not track'))};_executeAbTest=function(a){var b=_getCookieVariant(a); null==b&&(b=_chooseVariant(a));'hit'!=a.stickiness&&_setCookieVariant(a,b,'visitor'==a.stickiness?864E5:60*(f.undef(a.sessionTime)?30:a.sessionTime));f.log('Variant',b,'was chooen for test',a.name);a.chosenVariant=b;a=a.variants[b];if(f.undef(a))'original'!=b&&f.log('Using original content as the variant',b,'was not found');else for(b=0;b<a.targets.length;b++){var c=a.targets[b];'function'==typeof c?c():Yo.sequence.content(c).load()}};_abTestScript=function(a){var b=a.getAttribute(e.pre+'abtestname'), c=e.abTesting[b];if(f.undef(c))f.log('Found variant script for test',b,"but doesn't exist");else if(b=a.getAttribute(e.pre+'variant'),f.def(c.variants[b]))f.log('Variant script with existing name',b,'already exists. This variant will be excluded');else{b=a.getAttribute(e.pre+'variantname');var d=a.getAttribute(e.pre+'splitcondition');f.undef(c.variants[b])?c.variants[b]={splitCondition:d,targets:[a]}:c.variants[b].targets.push(a);f.log('Found script variant',b,'with splitCondition',d)}};_chooseVariant= function(a){var b=a.variants;if('percentage'==a.splitBy){var c=0,d;for(d in b){a=b[d];var g=c;a.splitCondition*=1;c+=a.splitCondition;a.splitCondition+=g}100<b[b.length-1]&&f.log('Total percentage of variants is greater than 100, test will always leave out some variants');c=100*Math.random();for(d in b)if(a=b[d],c<a.splitCondition)return d;return'original'}f.log('Unsupported splitType',a.splitBy,'for test',a.name)};_abTestAnalyticsUniversal=function(a){'send'==a[0]&&f.def(M.delayedTrack)&&(window.ga.q.pop(), M.delayedTrack=!0)};_abTestAnalyticsClassic=function(a){if(f.def(M.delayedTrack)){a=[];for(var b=0;b<_gaq.length;b++)f.undef(_gaq[b])||1>_gaq[b].length||'_trackPageview'!=_gaq[b][0]?('_setAccount'==_gaq[b][0]&&(M.uaCode=_gaq[b][1]),a[a.length]=_gaq[b]):M.delayedTrack=!0;_gaq=a}};ba.universal=function(a,b,c,d){return _abTest(a,void 0,b,c,'universal',void 0,d)};ba.classic=function(a,b,c,d,g,f){return _abTest(a,b,c,d,'classic',g,f)};ba.omniture=function(a,b,c,d){var g=s.t;s.t=function(){c&&(s[c]=d+s[c]); s['eVar'+a]=b;return g.apply(this,arguments)}};ba.abTesting=function(a){f.undef(a.variants)&&(a.variants={});f.undef(a.splitBy)&&(a.splitBy='percentage');f.undef(a.stickiness)&&(a.stickiness='session');f.undef(a.version)&&(a.version='0');f.undef(a.analytics)&&(a.analytics={});f.undef(a.analytics.valuePrefix)&&(a.analytics.valuePrefix='yo_abtesting_');f.undef(a.analytics.name)&&(a.analytics.name='yottaa_abtest');f.undef(a.valuePrefix)&&(a.valuePrefix='');e.abTesting[a.name]=a};ba.abVariant=function(a, b){a=e.abTesting[name];f.undef(a)&&f.log('Test',name,'was not defined');a.variants.push(b)};k.subscribe({topic:'core/load',callback:function(){_executeAllAbTest()}});z.fetch=function(a){var b=aa(a);b.finalize=function(){console.log('FINALIZE',a)};return b};var N={};e.serviceWorker={};N.install=function(a,b){if('serviceWorker'in navigator)return new Promise(function(c,d){l.log('ServiceWorker API present, we will register our worker.');navigator.serviceWorker.register(a,{scope:b}).then(function(b){l.log('ServiceWorker registration successful', a,b.scope);k.publish({topic:'service-worker/installed',message:{scope:b.scope,scriptURL:b.active?b.active.scriptURL:a}});c(b)}).catch(function(a){l.log('ServiceWorker registration failed: ',a);k.publish({topic:'service-worker/exception',message:a});d(a)})})};N.uninstall=function(a){if('serviceWorker'in navigator)return new Promise(function(b,c){l.log('ServiceWorker API present, we will attempt to unregister our worker.');N.get(a).then(function(d){d.unregister().then(function(c){l.log('ServiceWorker has been unregistered successfully, ', c);k.publish({topic:'service-worker/uninstalled',message:{scope:d.scope,scriptURL:d.active?d.active.scriptURL:a}});b(d)}).catch(function(b){l.log('Failed to unregister the url',a,b);c(b)})}).catch(function(b){l.log('We did not get the service work for',a,' we cannot unregister',b);c(b)})})};N.update=function(a){if('serviceWorker'in navigator)return new Promise(function(b,c){l.log('ServiceWorker API present, we will attempt to update our worker.');N.get(a).then(function(d){d.update().then(function(c){l.log('ServiceWorker has been updated successfully, ', c);k.publish({topic:'service-worker/updated',message:{scope:d.scope,scriptURL:d.active?d.active.scriptURL:a}});b(d)}).catch(function(b){l.log('Failed to update the url',a,b);c(b)})}).catch(function(b){l.log('We did not get the service work for',a,' we cannot update',b);c(b)})})};N.capability=function(){return'serviceWorker'in navigator};N.get=function(a){if('serviceWorker'in navigator)return new Promise(function(b,c){navigator.serviceWorker.getRegistrations().then(function(d){l.log('Reqistered Service Workers', d);for(var g=0;g<d.length;g++)if(d[g].active&&null!=d[g].active&&a==d[g].active.scriptURL){b(d[g]);return}c({error:'Script url was not found: '+a})}).catch(function(a){c(a)})})};N.configure=function(a){for(var b in a)e.serviceWorker[b]=a[b];k.publish({topic:'service-worker/configure',message:e.serviceWorker});return e.serviceWorker};'serviceWorker'in navigator&&(l.log('ServiceWorker API present, initialize communication layer'),navigator.serviceWorker.addEventListener('message',function(a){if(a.data&& a.data.topic)return k.publish({topic:a.data.topic,message:{sendFromServiceWorker:!0,originalMessage:a.data.message}})}),k.subscribe({topic:'service-worker/start',callback:function(a,b){p.configure({})}}),k.subscribe({topic:/service-worker.*/,callback:function(a,b){if(navigator.serviceWorker.controller&&!0!==a.sendFromServiceWorker)return navigator.serviceWorker.controller.postMessage({message:a,topic:b})}}));var Bb={log:!1,resources:[],messageBridge:!1,defaultBlockedResponse:{status:200,body:'Blocked by service-worked'}, security:{},handledResources:[],documentUri:''};h._serviceWorkerConfig=Bb;var ra={},ic={EQ:function(a,b){return a===b},NEQ:function(a,b){return a!==b},CONTAIN:function(a,b){return-1<a.indexOf(b)},'NOT-CONTAIN':function(a,b){return-1===a.indexOf(b)},'STARTS-WITH':function(a,b){return 0===a.indexOf(b)},'ENDS-WITH':function(a,b){return a.indexOf(b)===a.length-b.length},IN:function(a,b){return!0===b.includes(a)},'NOT-IN':function(a,b){return!1===b.includes(a)},REGEX:function(a,b){return Oa(a,b)},MATCH:function(a, b){return Oa(a,b)},'NOT-MATCH':function(a,b){return 0==Oa(a,b)}},jc={PROTOCOL:function(a){return a.protocol},HOSTNAME:function(a){return a.hostname},HOST:function(a){return a.hostname},PATHNAME:function(a){return a.pathname},SEARCH:function(a){return a.search},EXTENSION:function(a){var b=a.pathname.lastIndexOf('.');return-1==b?'':a.pathname.substring(b+1)}},kc={ALL:function(a){return!1},'function':function(a,b,c,d){return a.condition},'DOCUMENT-URI':function(a,b,c,d){return Bb.documentUri},'REQUEST-URI':function(a, b,c,d){return b.url},'USER-AGENT':function(a,b,c,d){return(d||window).navigator.userAgent},URI:function(a,b,c,d){return window.location.toString()},'URI-Component':function(a,b,c,d){return jc[a.request_property.toUpperCase()](b.uri)}};ra.matchAll=function(a,b,c){return new Promise(function(d,g){var f=ra.match(b,a,c);1!=f?g(f):d(a)})};ra.match=function(a,b,c){for(var d=0;d<b.length;d++)if(1==l.def(b[d].match)){a:{var g=a;for(var f=b[d].match,e=c,h=0;h<f.length;h++)if(0==Cb(f[h],g,e)){g=f[h];break a}g= !0}if(1!=g)return g}else if(0==Cb(b[d],a,c))return b[d];return!0};var Cb=function(a,b,c){var d=kc[a.type||a.name];return d?(c=d(a,b,c,h),'function'===a.type?a.condition(a,b):'ALL'===a.type?!0:(b=ic[a.operator])&&c&&a.condition?b(c,a.condition):!1):!1},Oa=function(a,b){try{var c=b.indexOf('(?i)');return-1==c?null!==a.match(b):null!==a.match(new RegExp(b.substring(c+4),'i'))}catch(d){return l.log('Bad Regex in Condition',d),!1}},lc={image:['img-src'],script:['connect-src','script-src','script-src-elem', 'script-src-attr'],font:['font-src'],media:['media-src'],object:['object-src'],style:['style-src','style-src-elem','style-src-attr']},la=function(a){this.url=this.key=a;this.timeout=0};la.match=function(a,b,c){a=mc(a,b,c);if(null!=a)return a;l.log('Did NOT find configuration for ',b,' checking local configuration. ');return null};la.matchResources=function(a,b){var c=b.url,d=b.destination;if(a.resources)for(var g=0;g<a.resources.length;g++){var f=a.resources[g],e=!1;f.url&&1==l.matchUrl(f.url,c)? (l.log('Found url match ',f.url,c),e=!0):f.conditions&&!0===ra.match(f.conditions,b)&&(l.log('Found condition match ',f.conditions,c),e=!0);if((e=!0===e)&&!(e=l.undef(a.handledResources))){a:{e=a;for(var h=e.handledResources.length,k=f.handle?f.handle:Number.MAX_VALUE,m=0;m<h;m++){var p=e.handledResources[m];if(p.url==c){p.count++;e=p.count>=k;break a}}e.handledResources.push({url:c,count:1});e=!1}e=0==e}if(e)return f}return la.match(a,c,d)};var mc=function(a,b,c){a=a.security;var d=!1;if(a&&a.directives){var g= Db(b),f=Eb(a,'default-src'),e=ca(f,!1,g,b,a.mode);if(null!=e)return e;if(c=lc[c]){c=Eb(a,c[0]);d=null!=c;e=ca(c,!1,g,b,a.mode);if(null!=e)return e;e=ca(c,!0,g,b,a.mode);if(null!=e)return e}if(0==d&&(e=ca(f,!0,g,b,a.mode),null!=e))return e}return null},ca=function(a,b,c,d,g){if(null!=a&&null!=c){var f=a[b?'allow':'block'],e=a[b?'allowProtocol':'blockProtocol'];if(e&&0<e.length&&(e=Pa(e,c,d),1==b&&null==e||0==b&&null!=e)||f&&0<f.length&&(e=Pa(f,c,d),1==b&&null==e||0==b&&null!=e))return{url:d,urlPrefix:c, directive:a,caughtBy:e,mode:g,block:'active'===g||'enforce'===g}}return null},Pa=function(a,b,c){c=a.length;for(var d=0;d<c;d++)if(a[d]){if(a[d].startsWith('*')&&1==l.matchUrl(a[d].substring(1),b))return l.log('Found configuration for ',b),a[d];if(1==b.endsWith('/'+a[d])||1==a[d].endsWith(':')&&1==b.startsWith(a[d]))return a[d]}return null},Db=function(a){a=a.split('/');return 3<=a.length?a.slice(0,3).join('/'):null},Eb=function(a,b){if(a.directives)for(var c=a.directives.length,d=0;d<c;d++)if(a.directives[d].type== b)return a.directives[d];return null},Fb=function(a,b){var c=this,d=[];this._element=a;this._config=JSON.parse(JSON.stringify(b));this._config.element=l.elementToString(a);this._cloneNode=a.cloneNode;this._getAttribute=a.getAttribute;this._setAttribute=a.setAttribute;this._properties={};b.attrs&&(d=b.attrs.slice(0));this._config.events&&(this._addEventListener=a.addEventListener,a.addEventListener=function(){if(1==O(c,this,'addEventListener',arguments[0])){var a=Array.prototype.slice.call(arguments); return c._addEventListener.apply(this,a)}},d=d.concat(this._config.events));a.getAttribute=function(a){return 1==O(c,this,'getAttribute',a)?c._getAttribute.apply(this,[a]):null};a.setAttribute=function(a,b){if(1==O(c,this,'setAttribute',a))return c._setAttribute.apply(this,[a,b])};a.cloneNode=function(a){if(1==O(c,this,'cloneNode',''))return c._cloneNode.apply(this,[a])};for(a=0;a<d.length;a++)this.wrapProperty(this._element,d[a])};Fb.prototype.wrapProperty=function(a,b){var c=this,d={configurable:!0}, g=!0,f=!0;1==b.startsWith('>')?(g=!1,b=b.substring(1)):1==b.startsWith('<')&&(f=!1,b=b.substring(1));this._properties[b]={configurable:!0,get:a.__lookupGetter__('value'),set:a.__lookupSetter__('value')};d.get=function(){return!0===(0==g||O(c,this,'grab property',b))?c._cloneNode.call(this,!0)[b]:''};d.set=function(d){!0===(0==f||O(c,this,'set property',b))&&(0==b.startsWith('on')?(c._cloneNode.call(this,!0)[b]=d,Object.defineProperty(a,b,c._properties[b]),c._element[b]=d,c.wrapProperty(c._element, b)):c._addEventListener.apply(this,[b.substring(2),d,!1]))};Object.defineProperty(a,b,d)};var Qa=function(a,b){this._element=a;delete b.object;this._config=JSON.parse(JSON.stringify(b));this._config.element=a;this._config.setterOverride=b.setterOverride;this._config.getterOverride=b.getterOverride;if(this._config.functions)for(b=0;b<this._config.functions.length;b++)try{this.wrapFunction(a,this._config.functions[b])}catch(c){p.utils.log('Error wrapping function name',this._config.functions[b],'error', c)}if(this._config.properties)for(b=0;b<this._config.properties.length;b++)try{this.wrapProperty(a,this._config.properties[b])}catch(c){p.utils.log('Error wrapping function name',this._config.functions[b],'error',c)}};Qa.prototype.wrapFunction=function(a,b){var c=this;c[b]=a[b];a[b]=function(){if(!0===O(c,this,'function',b)){var a=Array.prototype.slice.call(arguments);return c[b].apply(this,a)}return''}};Qa.prototype.wrapProperty=function(a,b){var c=this,d={},g=!0,f=!0;c[b]=a[b];1==b.startsWith('>')? (g=!1,b=b.substring(1)):1==b.startsWith('<')&&(f=!1,b=b.substring(1));var e=a[b];d.get=function(){return!0===(0==g||O(c,this,'get property',b))?c._config.getterOverride?c._config.getterOverride.call(this,b,e):e:''};d.set=function(a){!0===(0==f||O(c,this,'set property',b))&&(c._config.setterOverride&&c._config.setterOverride.call(this,b,e,a),e=a)};Object.defineProperty(a,b,d)};var x={},sa=[];x.securePage=function(a){a.selector='form';x.secureForms(a);a.selector='input';x.secureInputs(a);x.secureStorage(a); x.secureCookies(a);x.secureObject(a)};x.secureStorage=function(a){a.functions=['setItem','getItem','removeItem','clear'];a.object=window.sessionStorage.__proto__;x.secureObject(a);a.functions=['setItem','getItem','removeItem','clear'];a.object=window.localStorage.__proto__;x.secureObject(a)};x.secureCookies=function(a){a.properties=['cookie'];a.object=document;a.setterOverride=function(a,c,d){a=document.createElement('iframe');a.style.display='none';a.style.width='1px';a.style.height='1px';document.body.appendChild(a); c=a.contentWindow||a.contentDocument;c.document.open();c.eval("document.cookie='"+d+"';");c.document.close();document.body.removeChild(a)};a.getterOverride=function(a,c){a=document.createElement('iframe');a.style.display='none';a.style.width='1px';a.style.height='1px';document.body.appendChild(a);c=a.contentWindow||a.contentDocument.document||a.contentDocument;c.document.open();var b=c.document.cookie;c.document.close();document.body.removeChild(a);return b};x.secureObject(a)};x.secureDom=function(a){a.functions= ['createElement','createElementNS','write','writeln'];a.object=document;x.secureObject(a);a.functions=['cloneNode'];a.properties=['innerHTML'];a.elementName='HTMLElement';a.object=HTMLElement.prototype;a.getterOverride=function(a,c){if('innerHTML'==a)return this.cloneNode(!0).innerHTML};a.setterOverride=function(a,c,d){'innerHTML'==a&&(a=this.cloneNode(!0),a.innerHTML=d,this.parentNode.replaceChild(a,this))};x.secureObject(a)};x.secureForms=function(a){a.attrs=['action'];a.events=['onsubmit'];x.secureElements(a)}; x.secureInputs=function(a){a.attrs=['value'];a.events=['onchange','onkeyup','onkeydown'];x.secureElements(a)};x.secureElements=function(a){Gb(a);var b=a.selector;b=p.utils.def(b.nodeName)?[b]:document.querySelectorAll?document.querySelectorAll(b):[p.utils.selector(b)];if(null!=b)for(var c=0;c<b.length;c++)if(0==Hb(b[c])){var d=new Fb(b[c],a);sa.push(d)}};x.secureObject=function(a){0==Hb(a.object)&&(Gb(a),a=new Qa(a.object,a),sa.push(a))};var Gb=function(a){a.allow?(a.ogAllow=a.allow.slice(),ta(a, !0)):(a.ogAllow=["'self'"],a.allow=[window.location.host]);a.block?(a.ogBlock=a.block.slice(),ta(a,!1)):a.block=[];1==p.utils.undef(a.mode)&&(a.mode='report-only');return a},Hb=function(a){for(var b=0;b<sa.length;b++)if(a==sa[b]._element)return!0;return!1},O=function(a,b,c,d){try{var g='';g=Error().stack;if(null==g||0==g.length)var f=[];else{for(var e=g.split('\n'),h=[],k=0;k<e.length;k++){var m=e[k].split(/http:|https:/);if(1<m.length){var p='',q='',r='',u=m[1].lastIndexOf(':');-1!=u&&(r=m[1].substring(u+ 1),r.endsWith(')')&&(r=r.substring(0,r.length-1)),p=m[1].substring(0,u));u=p.lastIndexOf(':');-1!=u&&(q=p.substring(u+1),p=p.substring(0,u));h.push({url:p,prefix:Db(p),column:r,row:q})}}f=h}e=null;for(h=0;h<f.length;h++){var t=f[h],w=ca(a._config,!0,t.prefix,t.url,a._config.mode);if(null!=w&&!0===w.block)return w.column=t.column,w.row=t.row,a._config.element=a._config.element||l.elementToString(b),Ra(a._config,g,w,'enforce',c,d),w;null==e&&null!=w&&(w.column=t.column,w.row=t.row,e=w);w=ca(a._config, !1,t.prefix,t.url,a._config.mode);if(null!=w&&!0===w.block)return w.column=t.column,w.row=t.row,a._config.element=a._config.element||l.elementToString(b),Ra(a._config,g,w,'enforce',c,d),w;null==e&&null!=w&&(w.column=t.column,w.row=t.row,e=w)}null!=e&&(a._config.element=a._config.element||l.elementToString(b),Ra(a._config,g,e,'report-only',c,d))}catch(tc){}return!0},Ra=function(a,b,c,d,g,e){f.log('_sendPageCSPReport',a,c,d);var h=p.stats().config.security;if(h)if(1==l.def(a.silence)&&null!=Pa(a.silence, c.urlPrefix,c.url)==1)f.log('URL',c.url,' was ',d,' but is configured to not report it.');else if((h=h.report_uri)&&0!=h.length){-1==h.indexOf('ruleName=')&&a.rule_name&&(h+='&ruleName='+a.rule_name);var n='';a.allow?n=a.element+' '+g+'-'+e+' (allow '+a.ogAllow.join(' ')+')':a.block&&(n=a.element+' '+g+'-'+e+' (block '+a.ogBlock.join(' ')+')');a={'csp-report':{'document-uri':window.location.toString(),disposition:d,columnNumber:c.column,lineNumber:c.row,'blocked-uri':c.url,'original-policy':b,'violated-directive':n, referrer:document.referrer,source:'rapid-page-security'}};k.publish({topic:'security/csp-report',message:{'report-uri':h,message:{'csp-reports':[a]}}});Ib(h);y.cspReports.push(a);10<=y.cspReports.length&&Sa(h)}},Jb={},Ta=null;Jb.honey=function(a){k.subscribe({topic:'security/plugin/mutation',callback:function(b){if(b&&b.addedNodes)for(var c=0;c<b.addedNodes.length;c++){var d=b.addedNodes[c];0<=(d.outerHTML||'').toLowerCase().indexOf('honey')&&('remove'==a?d.parentNode.removeChild(d):'hide'==a&&d.setAttribute('style', 'display: none;'),k.publish({topic:'security/plugin/honey',message:d}),A.addViolation(6,'https://cdn.honey.io/honey.js'))}}});nc()};var nc=function(){null==Ta&&(Ta=new MutationObserver(function(a){for(var b=0;b<a.length;b++)k.publish({topic:'security/plugin/mutation',message:a[b]})}),Ta.observe(document,{childList:!0,subtree:!0}))},y={resource:function(){return la}};y.secureForms=x.secureForms;y.secureInputs=x.secureInputs;y.secureElements=x.secureElements;y.secureStorage=x.secureStorage;y.secureCookies= x.secureCookies;y.secureObject=x.secureObject;y.secureDom=x.secureDom;y.securePage=x.securePage;y.plugin=Jb;y.cspReports=[];y.gotAReport=!1;y.lastReadResoure=0;y.configure=function(a){p.utils.log('Adding csp-header');for(var b='',c=a.directives?a.directives.length:0,d=0;d<c;d++){var g=a.directives[d];g.allow&&0<g.allow.length&&(b+=g.type+' ',b+=g.allow.join(' '),d<c-1&&(b+='; '))}(c=a.report_uri)&&0<c.length&&(b+='; report-uri '+c);a.cspContent=b;p.stats().config.security=a;'csp-meta-tag'===a.implementation? oc(a,a.cspContent):'service-worker'===a.implementation&&(p.serviceWorker?pc(a):p.utils.log('Security can use Service Worker its not available.'));k.publish({topic:'security/configure',message:a})};var oc=function(a,b){if('active'===a.mode||'enforce'===a.mode){var c=document.createElement('meta');c.setAttribute('http-equiv','Content-Security-Policy');c.setAttribute('content',b);document.head.appendChild(c)}else f.log('Browsers dont support report-only meta tag. We will poly fill this implementation.'), window.performance&&window.performance.getEntries&&(k.subscribe({topic:'sequence/captured',callback:function(){Kb()}}),l.addEvent(window,'unload',function(){Kb()}));Lb(a)},pc=function(a){a=Lb(a);p.serviceWorker.configure({messageBridge:!0,security:a});p.pubsub.subscribe({topic:'service-worker/security/report-only',callback:function(a){Ua(a.originalMessage,'report')}});p.pubsub.subscribe({topic:'service-worker/security/blocked',callback:function(a){Ua(a.originalMessage,'enforce')}})},Ua=function(a, b){f.log('_sendCSPReport',a,b);var c=p.stats().config.security,d=c.report_uri;if(d&&0!=d.length){Ib(d);var g='service-worker-csp',e=a.control.directive.type;a.control.directive.allow?e+='-allow '+a.control.directive.ogAllow.join(' '):(e=a.control.directive.block?e+('-block '+a.control.directive.ogBlock.join(' ')):e+'-block ',g='service-worker-block');b={'csp-report':{'document-uri':window.location.toString(),'blocked-uri':a.url,disposition:b,'original-policy':c.cspContent,'violated-directive':e,referrer:document.referrer, source:g}};a.source&&(b['csp-report'].source=a.source);y.cspReports.push(b);10<=y.cspReports.length&&Sa(d);k.publish({topic:'security/csp-report',message:{'report-uri':d,message:{'csp-reports':[b]}}})}},Ib=function(a){0==y.gotAReport&&(y.gotAReport=!0,l.addEvent(window,'beforeunload',function(){l.log('unload window event send any CSP reports');Sa(a)}))},Sa=function(a){0<y.cspReports.length&&(l.sendData({'csp-reports':y.cspReports},a),f.log('CSP Report data was send to server',a,y.cspReports),y.cspReports= [])},Lb=function(a){if(a&&a.directives)for(var b=a.directives.length,c=0;c<b;c++){var d=a.directives[c];d.allow&&(d.ogAllow=d.allow.slice(),ta(d,!0));d.block&&(d.ogBlock=d.block.slice(),ta(d,!1))}return a},ta=function(a,b){for(var c=a[b?'allow':'block'],d=c.length,e=0;e<d;e++)if("'self'"===c[e])c[e]=window.location.host;else if(0<=c[e].indexOf('http:')||0<=c[e].indexOf('https:')){var f=a[b?'allowProtocol':'blockProtocol'];f||(f=[],a[b?'allowProtocol':'blockProtocol']=f);f.push(c[e]);c[e]=null}},Kb= function(){for(var a=window.performance.getEntries(),b=a.length,c=y.lastReadResoure;c<b;c++){var d=a[c];if('resource'==d.entryType){var e=la.match(p.stats().config,d.name,d.initiatorType);null!==e&&Ua({url:d.name,destination:d.initiatorType,control:e},'report-only')}}y.lastReadResoure=b-1};e.services=[];var da={add:function(a){a={afterLoaded:La,beforeLoading:Ka,host:a.host,key:'*'+a.host+'*',properties:a,name:a.name,budget:a.budget};e.services.push(a);k.publish({topic:'services/add',message:a});return a}, findByHost:function(a){for(var b=da.list(),c=0;c<b.length;c++){var d=b[c];if(1==f.matchUrl(d.host,a))return f.log('Found service configuration for '+a+' service ',d),d}f.log('Did NOT find service configuration for '+a+' checking local configuration. ');return null},findByName:function(a){for(var b=da.list(),c=0;c<b.length;c++){var d=b[c];if(d.name==a)return f.log('Found service configuration for '+a+' service ',d),d}f.log('Did NOT find service configuration for '+a+' checking local configuration. '); return null},list:function(){return e.services}},W={};e.scheduling={onLoadTime:null,lastScheduleTime:6E3,last:100,step:100,scheduled:!1,hosts:[],priorities:{low:{last:3E3,step:100},medium:{last:1E3,step:100},high:{last:100,step:100},critical:{last:-1}},prioritiesToKeep:[],serviceToKeep:[],budgetTime:!1,servicesToBudget:[],loadTime:(new Date).getTime()};W.resource=function(a){return{afterLoaded:La,beforeLoading:Ka,src:a,key:'*'+a+'*'}};W.bestFit=function(){e.scheduling.type='bestfit';e.scheduling.scheduled= !0};W.priority=function(a){e.scheduling.type='priority';e.scheduling.scheduled=!0;if(a&&a.services)for(var b=0;b<a.services.length;b++)p.services.add(a.services[b])};W.spread=function(a){e.scheduling.type='spread';f.def(a)&&(e.scheduling.step=a);e.scheduling.scheduled=!0};W.configure=function(a){for(var b in a)e.scheduling[b]=a[b];k.publish({topic:'schedule/configure',message:e});return e.scheduling};W.budget=function(a){if(a){a.budgetTime&&(e.scheduling.budgetTime=a.budgetTime);a.prioritiesToKeep&& (e.scheduling.prioritiesToKeep=a.prioritiesToKeep);if(a.servicesToBudget){e.scheduling.servicesToBudget=a.servicesToBudget;for(var b=0;b<a.servicesToBudget.length;b++){var c=a.servicesToBudget[b];c.budget=!0;p.services.add(c)}}e.scheduling.budgeter=a.budgeter?a.budgeter:qc}};k.subscribe({topic:'core/start',callback:function(){}});k.subscribe({topic:'sequence/captured',callback:function(a,b){null!=e.scheduling.onLoadTime&&(new Date).getTime()>e.scheduling.onLoadTime+e.scheduling.lastScheduleTime?f.log('Scheduling has expired', e.scheduling.lastScheduleTime):1==e.scheduling.scheduled&&('spread'==e.scheduling.type?Va(a,b):'bestfit'!=e.scheduling.type&&'priority'==e.scheduling.type&&rc(a,b))}});var rc=function(a,b){if(a.newNode){var c=a.newNode.src;if(c&&0<c.length){var d=Wa(c),g=da.findByHost(d);if(null!=d&&-1==e.scheduling.hosts.indexOf(d)){if(null==g)return Va(a,b);var h=e.scheduling.priorities[g.properties.priority];f.log('Service found ',g.properties.name,g.properties.priority);if(1==f.undef(h))return Va(a,b);0<=h.last&& (h.last+=h.step,k.subscribe({topic:'sequence/beforeloading/*'+d+'*',callback:function(){-1==e.scheduling.hosts.indexOf(d)&&e.scheduling.hosts.push(d)}}),b=null!=e.scheduling.budgeter?e.scheduling.budgeter(g,c,a,e.scheduling):!1,f.log('Scheduling resource ',a.newNode.src,d,'defer',h.last,', isBudgeted = ',b),1==b?a.newNode.delayType='remove':(a.newNode.delayType='defer',a.newNode.delayValue=h.last))}}}},Va=function(a,b){if(a.newNode&&(b=a.newNode.src)&&0<b.length){var c=Wa(b),d=da.findByHost(b);null!= c&&-1==e.scheduling.hosts.indexOf(c)&&(e.scheduling.last+=e.scheduling.step,k.subscribe({topic:'sequence/beforeloading/*'+c+'*',callback:function(){-1==e.scheduling.hosts.indexOf(c)&&e.scheduling.hosts.push(c)}}),b=null!=e.scheduling.budgeter?e.scheduling.budgeter(d,b,a,e.scheduling):!1,f.log('Scheduling resource ',a.newNode.src,c,'defer',e.scheduling.last,', isBudgeted = ',b),1==b?a.newNode.delayType='remove':(a.newNode.delayType='defer',a.newNode.delayValue=e.scheduling.last))}},qc=function(a,b, c,d){c=d.budgetTime;var f=Wa(b);if(!1!==c){if((new Date).getTime()-e.scheduling.loadTime>=c){if(-1!=d.hosts.indexOf(f))return!1;if(d.servicesToBudget&&0<d.servicesToBudget.length)return(a=da.findByHost(b))&&!0===a.budget?(A.addViolation(5,b),!0):!1;if(-1!=d.prioritiesToKeep.indexOf(a.properties.priority)||null!=a&&0==a.budget)return!1;A.addViolation(5,b);return!0}null!=a&&(a.budget=!1)}return!1},Wa=function(a){return(a=a.split('/')[2])?a=a.split('.').slice(-2).join('.'):null};k.subscribe({topic:'core/load', callback:function(){e.scheduling.onLoadTime=(new Date).getTime()}});var Xa={create:function(a){var b=e;-1==b.srcAttrs.indexOf('data-src')&&b.srcAttrs.push('data-src');-1==b.srcAttrs.indexOf('data-srcset')&&b.srcAttrs.push('data-srcset');b.imagePipeline=a;k.subscribe({topic:'sequence/beforeloading/*',callback:function(b,d){f.log('Yo.imagePipeline.beforeLoading - ',b);d=b.before;var c=a.optimizer||Xa.optimizer;c&&d&&d.nodeName&&'img'==d.nodeName.toLowerCase()&&(d=c(d,b.srcAttr))&&(f.log('Yo.imagePipeline updating image src - ', d),b.srcAttr=d)}})},rewrite:function(a,b){if(-1==b.indexOf('.yottaa.net')){var c=Yo.stats().config.imagePipeline;f.log('Yo.imagePipeline.rewrite',c,a,b);return location.protocol+c.cdn+'/'+c.profileId+'/'+a+'/'+c.version+'/'+b}},optimizer:function(a,b,c){f.log('Yo.imagePipeline default image optimized',a,b);c=c||[];(a=f.browser())&&'chrome'===a.name?c.push('f_webp'):a&&'safari'===a.name&&13<=a.version&&c.push('f_jp2');return Xa.rewrite('o~'+c.join(','),b)}},Mb=function(a,b){var c='ul= dl= dt= sd= sr= vp= ct= rtt='.split(' '); c[0]+=navigator.language;c[1]+=encodeURIComponent(window.location.href.substring(0,1E3));c[2]+=encodeURIComponent(document.title);c[3]+=window.screen.colorDepth;c[4]+=window.screen.width+','+window.screen.height;c[5]+=window.screen.availWidth+','+window.screen.availHeight;if(b)for(var d in b)c.push(d+'='+encodeURIComponent(b[d]));b=navigator.connection||navigator.mozConnection||navigator.webkitConnection;c[6]+=b?b.effectiveType:'unknown';c[7]+=b?b.rtt:'unknown';try{if(window.sessionStorage&&sessionStorage.getItem){var e= sessionStorage.getItem('rapid.testVariations');if(e&&'undefined'!=e){var f=JSON.parse(e);for(b=0;b<f.length;b++)1==f[b].sticky&&c.push('testVariation='+f[b].testId+'-'+f[b].variationName)}if(-1!=(iPos=window.location.hash.indexOf('yoQoeConfig='))){var h=window.location.hash.substring(iPos+12).split('&');c=c.concat(h)}}}catch(Qb){l.log('sessionStorage was not available')}f=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject('Microsoft.XMLHTTP');f.open('GET',a+'&'+c.join('&'),!1);f.send(''); c=document.createElement('script');c.type='text/javascript';c.text=f.responseText;document.getElementsByTagName('head')[0].appendChild(c);l.log('Adding Rapid CTRL script into DOM: ',a);try{window.sessionStorage&&sessionStorage.setItem&&(e=A.get().testVariations)&&sessionStorage.setItem('rapid.testVariations',JSON.stringify(e))}catch(Qb){l.log('sessionStorage was not available')}},Ya={enableDetection:function(){if(r.enabled)return!1;r.enabled=!0;p.utils.log('Journey Hijacking enabled');r.config.detectOn&& (r.detectOnId=k.subscribe({topic:r.config.detectOn,callback:Ya.startDetection}));r.config.sendOn&&(r.sendOnId=k.subscribe({topic:r.config.sendOn,callback:Za.send}));return!0},startDetection:function(){if(!r.enabled)return!1;p.utils.log('Journey Hijacking starting detection');k.publish({topic:'hijacking/start',message:r.config});for(var a=r.config.extensions,b=0;b<a.length;b++){var c=a[b];c.assetUrls&&0!=c.assetUrls.length?eb(c):Ea(c,ja.UNKNOWN)}return!0}},ja={UNKNOWN:-1,INSTALLED:1,NOT_INSTALLED:2}; I=null;var hb={DETECTED:1,NOT_DETECTED:2,BLOCKED:3},G={enableBlocking:function(){var a;if(a=!1===G.enabled)a:{a=r.config.extensions;for(var b=0;b<a.length;b++)if(a[b].components&&0<a[b].components.length){a=!0;break a}a=!1}a&&(Wb(),G.enabled=!0,p.utils.log('Component blocking enabled'));return G.enabled},resetBlocking:function(){G.enabled=!1;G.checkedComponents=[];I&&I.disconnect()},checkedComponents:[],enabled:!1},oa=null,pa=null,Za={send:function(){return!1===r.detectionComplete?(oa=k.subscribe({topic:'hijacking/finished', callback:kb}),!1):kb()},resetAnalytics:function(){jb();null!==pa&&(k.unsubscribe(pa),pa=null);window.localStorage.removeItem(Fa())}},r={configure:function(a){if(!1===lb())return p.utils.log('Journey Hijacking was configured but is not supported in this browser'),!1;if(r.enabled)return p.utils.log('Journey Hijacking already configured'),!1;if(!a.reportUri||!a.extensions||0===a.extensions.length)return p.utils.log('Journey Hijacking config is invalid. Detection not enabled.'),!1;a.hasOwnProperty('detectOn')|| (a.detectOn='core/load');a.hasOwnProperty('sendOn')||(a.sendOn='rum/send');r.config=a;p.stats().config.hijacking=a;if('unknown'===r.optState){var b=p.rum.get().optState;r.optState='none'===b?'active':b}'disabled'===r.optState?p.utils.log('Journey Hijacking disabled.'):(Ya.enableDetection(),G.enableBlocking());k.publish({topic:'hijacking/configure',message:a});return!0},startDetection:Ya.startDetection,isSupported:lb,setOptState:function(a){if(r.enabled)return!1;if(-1===['active','bypass','control', 'disabled'].indexOf(a))return p.utils.log('Invalid optState '+a),!1;r.optState=a;return!0},send:Za.send,reset:function(){r.detectOnId&&(k.unsubscribe(r.detectOnId),r.detectOnId=null);r.sendOnId&&(k.unsubscribe(r.sendOnId),r.sendOnId=null);r.enabled=!1;r.optState='unknown';r.detectionComplete=!1;r.checkedExtensions=[];r.config={};p.stats().config.hijacking={};G.resetBlocking();Za.resetAnalytics();return!0},checkedExtensions:[],enabled:!1,blockingEnabled:G.enabled,detectionComplete:!1,detectOnId:null, sendOnId:null,blocking:G,optState:'unknown'};window.Yo||(window.Yo={});var p={utils:f,pubsub:k,configure:function(a,b){if('string'===typeof a)Mb(a,b);else for(var c in a)'resources'==c?e.resources=e.resources.concat(a.resources):'configurationUrl'==c?Mb(a[c],b):e[c]=a[c];k.publish({topic:'core/configure',message:e})},sequence:z,rum:A,abTesting:ba,insert:{HEAD_START:'head_start',HEAD_END:'head_end',BODY_START:'body_start',BODY_END:'body_end',location:function(a){null!=document.body?document.write("<di'+'v id='yo_tag_"+ a+"'></di'+'v>"):document.write("<script id='yo_tag_"+a+"'>\x3c/script>");k.publish({topic:'tag/location/'+a,persistent:!0})},resource:function(a,b,c,d){var e=p.sequence.script(a);e.loaded=!0;k.subscribe({topic:'tag/location/'+b,callback:function(){var a=f.select('#yo_tag_'+b);p.sequence.node(a);c&&''!=c||(c='none');e[c](d);e.loaded=!1;e.load(a)}});return e},script:function(a,b,c,d){var e=Yo.sequence.script(a);e.loaded=!0;k.subscribe({topic:'tag/location/'+b,callback:function(){c&&''!=c||(c='none'); e[c](d);e.loaded=!1;e.eval()}});return e},content:function(a,b,c,d){var e=document.createElement('script');c&&''!=c||(c='none');e.setAttribute('type','yo/sequencing/'+c+'/'+d);var h=Yo.sequence.content(e);h.loaded=!0;0==b.indexOf('css:')?k.subscribe({topic:'core/load',callback:function(){f.def(a.nodeName)?e.appendChild(a):e.innerHTML=a;var c=b.split(':');h.before=f.select(c[1]);3==c.length&&('after'==c[2]?null==h.before.nextSibling?(h.before=h.before.parentNode,h.how='append'):h.before=h.before.nextSibling: 'prepend'==c[2]?0<h.before.childNodes.length?h.before=h.before.childNodes[0]:h.how='append':'append'==c[2]&&(h.how='append'));h.loaded=!1;h.load()}}):k.subscribe({topic:'tag/location/'+b,callback:function(){f.def(a.nodeName)?e.appendChild(a):e.innerHTML=a;h.loaded=!1;h.before=f.select('#yo_tag_'+b);h.load()}});return h}},stats:Ha,geo:function(){if(0===arguments.length)return F.geo;1===arguments.length&&(F.geo=arguments[0],k.publish({topic:'core/geo',message:arguments[0]}))},serviceWorker:N,security:y, schedule:W,services:da,imagePipeline:Xa,spa:{trackMetrics:function(){A.spa()},startTransition:function(a,b){return k.publish({topic:'rum/spa/transition/start',message:{pageType:a,viewType:b}})},finishedRendering:function(a,b){return k.publish({topic:'rum/spa/rendered',message:{pageType:a,viewType:b}})}},hijacking:r};window.Yo=p;k.publish({topic:'core/start',message:p});return p}); 